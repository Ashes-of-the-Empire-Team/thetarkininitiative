scripted_gui = {

	senate_screen = {
		context_type = player_context
		window_name = "senate_screen"
		visible = {
           has_country_flag = senate_open
		}
		effects = {
			senate_button_click = {
				set_country_flag = senate_main_open
				clr_country_flag = military_committee_open
				clr_country_flag = espionage_committee_open
				clr_country_flag = economic_committee_open
				clr_country_flag = research_committee_open
				set_variable = { selected_committee = 1}
			}
			economic_committee_button_click = {
				set_country_flag = economic_committee_open
				clr_country_flag = senate_main_open
				clr_country_flag = military_committee_open
				clr_country_flag = espionage_committee_open
				clr_country_flag = research_committee_open
				set_variable = { selected_committee = 2}
			}
			military_committee_button_click = {
				set_country_flag = military_committee_open
				clr_country_flag = senate_main_open
				clr_country_flag = economic_committee_open
				clr_country_flag = espionage_committee_open
				clr_country_flag = research_committee_open
				set_variable = { selected_committee = 3}
			}
			espionage_committee_button_click = {
				set_country_flag = espionage_committee_open
				clr_country_flag = senate_main_open
				clr_country_flag = economic_committee_open
				clr_country_flag = military_committee_open
				clr_country_flag = research_committee_open
				set_variable = { selected_committee = 4}
			}
			research_committee_button_click = {
				set_country_flag = research_committee_open
				clr_country_flag = senate_main_open
				clr_country_flag = economic_committee_open
				clr_country_flag = military_committee_open
				clr_country_flag = espionage_committee_open
				set_variable = { selected_committee = 5}
			}
			new_rep_yes_vote_click = {
				if = { 
					limit = {
						has_country_flag = espionage_committee_open
					}
					add_to_variable = { Global.votes_for_new_republic_espionage = 1}
					set_country_flag = votes_for_new_republic_espionage
				}
			}
			new_rep_no_vote_click = {
				if = { 
					limit = {
						has_country_flag = espionage_committee_open
					}
					add_to_variable = { Global.votes_against_new_republic_espionage = 1}
					set_country_flag = votes_for_new_republic_espionage
				}
			}
			new_rep_abstain_vote_click = {
				if = { 
					limit = {
						has_country_flag = espionage_committee_open
					}
					add_to_variable = { Global.votes_abstained_new_republic_espionage = 1}
					set_country_flag = votes_for_new_republic_espionage
				}
			}
		}
		triggers = {
			senate_button_click_enabled = {
				NOT = {
					has_country_flag = senate_main_open
				}
			}
			economic_committee_button_click_enabled = {
				NOT = {
					has_country_flag = economic_committee_open
				}
			}
			military_committee_button_click_enabled = {
				NOT = {
					has_country_flag = military_committee_open
				}
			}
			espionage_committee_button_click_enabled = {
				NOT = {
					has_country_flag = espionage_committee_open
				}
			}
			research_committee_button_click_enabled = {
				NOT = {
					has_country_flag = research_committee_open
				}
			}
			new_rep_back_visible = {
				NOT = {
					has_country_flag = senate_main_open
				}
			}
			new_rep_yes_vote_click_enabled = {
				OR = {
					if = {
						limit = {
							has_country_flag = espionage_committee_open
						}
						has_country_flag = member_of_espionage_committee
						OR = {
							has_global_flag = espionage_member_vote ### THESE STUFF THAT CAN BE VOTED FOR
							has_global_flag = espionage_vote_ongoing
						}
						NOT = {
							has_country_flag = votes_for_new_republic_espionage
						}
					}else_if = {
						limit = {
							has_country_flag = economic_committee_open
						}
						has_country_flag = member_of_economic_committee
						OR = {
							has_global_flag = economic_member_vote
							has_global_flag = economic_vote_ongoing
						}
						NOT = {
							has_country_flag = votes_for_new_republic_economic
						}
					}else_if = {
						limit = {
							has_country_flag = military_committee_open
						}
						has_country_flag = member_of_military_committee
						OR = {
							has_global_flag = military_member_vote
							has_global_flag = military_vote_ongoing
						}
						NOT = {
							has_country_flag = votes_for_new_republic_military
						}
					}else_if = {
						limit = {
							has_country_flag = research_committee_open
						}
						has_country_flag = member_of_research_committee
						OR = {
							has_global_flag = research_member_vote
							has_global_flag = research_vote_ongoing
						}
						NOT = {
							has_country_flag = votes_for_new_republic_research
						}
					}
				}
			}
			new_rep_no_vote_click_enabled = {
				OR = {
					if = {
						limit = {
							has_country_flag = espionage_committee_open
						}
						has_country_flag = member_of_espionage_committee
						OR = {
							has_global_flag = espionage_member_vote ### THESE STUFF THAT CAN BE VOTED FOR
							has_global_flag = espionage_vote_ongoing
						}
						NOT = {
							has_country_flag = votes_for_new_republic_espionage
						}
					}else_if = {
						limit = {
							has_country_flag = economic_committee_open
						}
						has_country_flag = member_of_economic_committee
						OR = {
							has_global_flag = economic_member_vote
							has_global_flag = economic_vote_ongoing
						}
						NOT = {
							has_country_flag = votes_for_new_republic_economic
						}
					}else_if = {
						limit = {
							has_country_flag = military_committee_open
						}
						has_country_flag = member_of_military_committee
						OR = {
							has_global_flag = military_member_vote
							has_global_flag = military_vote_ongoing
						}
						NOT = {
							has_country_flag = votes_for_new_republic_military
						}
					}else_if = {
						limit = {
							has_country_flag = research_committee_open
						}
						has_country_flag = member_of_research_committee
						OR = {
							has_global_flag = research_member_vote
							has_global_flag = research_vote_ongoing
						}
						NOT = {
							has_country_flag = votes_for_new_republic_research
						}
					}
				}
			}
			new_rep_abstain_vote_click_enabled = {
				OR = {
					if = {
						limit = {
							has_country_flag = espionage_committee_open
						}
						has_country_flag = member_of_espionage_committee
						OR = {
							has_global_flag = espionage_member_vote ### THESE STUFF THAT CAN BE VOTED FOR
							has_global_flag = espionage_vote_ongoing
						}
						NOT = {
							has_country_flag = votes_for_new_republic_espionage
						}
					}else_if = {
						limit = {
							has_country_flag = economic_committee_open
						}
						has_country_flag = member_of_economic_committee
						has_global_flag = economic_member_vote
						OR = {
							has_global_flag = economic_member_vote
							has_global_flag = economic_vote_ongoing
						}
						NOT = {
							has_country_flag = votes_for_new_republic_economic
						}
					}else_if = {
						limit = {
							has_country_flag = military_committee_open
						}
						has_country_flag = member_of_military_committee
						OR = {
							has_global_flag = military_member_vote
							has_global_flag = military_vote_ongoing
						}
						NOT = {
							has_country_flag = votes_for_new_republic_military
						}
					}else_if = {
						limit = {
							has_country_flag = research_committee_open
						}
						has_country_flag = member_of_research_committee
						OR = {
							has_global_flag = research_member_vote
							has_global_flag = research_vote_ongoing
						}
						NOT = {
							has_country_flag = votes_for_new_republic_research
						}
					}
				}
			}
		}
	}
	senate_economy_screen = {
		context_type = player_context
		window_name = "senate_economy_screen"
		parent_window_name = "senate_screen"
		visible = {
           has_country_flag = economic_committee_open
		}
		effects = {
			new_rep_economic_member_1_frame_click = {
				if = {
                    limit = {
                        NOT={
                            is_in_array = {
                                array = global.MilitaryMemberSenateArray
                                value = THIS.id
                            }
                            is_in_array = {
                                array = global.ResearchMemberSenateArray
                                value = THIS.id
                            }
                            is_in_array = {
                                array = global.EspionageMemberSenateArray
                                value = THIS.id
                            }
                            is_in_array = {
                                array = global.EconomicMemberSenateArray
                                value = THIS.id
                            }
                        }
                        check_variable = {Global.EconomicMemberSenateArray^num < 6}
                    }
                    add_to_array = {
                        array = Global.EconomicMemberSenateArray
                        value = ROOT.id
                    }
                    set_country_flag = member_of_economic_committee
                }else_if = {
					limit = {
                        NOT={
                            is_in_array = {
                                array = global.MilitaryMemberSenateArray
                                value = THIS.id
                            }
                            is_in_array = {
                                array = global.ResearchMemberSenateArray
                                value = THIS.id
                            }
                            is_in_array = {
                                array = global.EspionageMemberSenateArray
                                value = THIS.id
                            }
                            is_in_array = {
                                array = global.EconomicMemberSenateArray
                                value = THIS.id
                            }
                        }
                        check_variable = {Global.EconomicMemberSenateArray^num = 5}
                    }
					replace_economic_member_calculator = yes
				}
			}
			new_rep_economic_member_2_frame_click = {
				if = {
                    limit = {
                        NOT={
                            is_in_array = {
                                array = global.MilitaryMemberSenateArray
                                value = THIS.id
                            }
                            is_in_array = {
                                array = global.ResearchMemberSenateArray
                                value = THIS.id
                            }
                            is_in_array = {
                                array = global.EspionageMemberSenateArray
                                value = THIS.id
                            }
                            is_in_array = {
                                array = global.EconomicMemberSenateArray
                                value = THIS.id
                            }
                        }
                        check_variable = {Global.EconomicMemberSenateArray^num < 6}
                    }
                    add_to_array = {
                        array = Global.EconomicMemberSenateArray
                        value = ROOT.id
                    }
                    set_country_flag = member_of_economic_committee
                }else_if = {
					limit = {
                        NOT={
                            is_in_array = {
                                array = global.MilitaryMemberSenateArray
                                value = THIS.id
                            }
                            is_in_array = {
                                array = global.ResearchMemberSenateArray
                                value = THIS.id
                            }
                            is_in_array = {
                                array = global.EspionageMemberSenateArray
                                value = THIS.id
                            }
                            is_in_array = {
                                array = global.EconomicMemberSenateArray
                                value = THIS.id
                            }
                        }
                        check_variable = {Global.EconomicMemberSenateArray^num = 5}
                    }
					replace_economic_member_calculator = yes
				}
			}
			new_rep_economic_member_3_frame_click = {
				if = {
                    limit = {
                        NOT={
                            is_in_array = {
                                array = global.MilitaryMemberSenateArray
                                value = THIS.id
                            }
                            is_in_array = {
                                array = global.ResearchMemberSenateArray
                                value = THIS.id
                            }
                            is_in_array = {
                                array = global.EspionageMemberSenateArray
                                value = THIS.id
                            }
                            is_in_array = {
                                array = global.EconomicMemberSenateArray
                                value = THIS.id
                            }
                        }
                        check_variable = {Global.EconomicMemberSenateArray^num < 6}
                    }
                    add_to_array = {
                        array = Global.EconomicMemberSenateArray
                        value = ROOT.id
                    }
                    set_country_flag = member_of_economic_committee
                }else_if = {
					limit = {
                        NOT={
                            is_in_array = {
                                array = global.MilitaryMemberSenateArray
                                value = THIS.id
                            }
                            is_in_array = {
                                array = global.ResearchMemberSenateArray
                                value = THIS.id
                            }
                            is_in_array = {
                                array = global.EspionageMemberSenateArray
                                value = THIS.id
                            }
                            is_in_array = {
                                array = global.EconomicMemberSenateArray
                                value = THIS.id
                            }
                        }
                        check_variable = {Global.EconomicMemberSenateArray^num = 5}
                    }
					replace_economic_member_calculator = yes
				}
			}
			new_rep_economic_member_4_frame_click = {
				if = {
                    limit = {
                        NOT={
                            is_in_array = {
                                array = global.MilitaryMemberSenateArray
                                value = THIS.id
                            }
                            is_in_array = {
                                array = global.ResearchMemberSenateArray
                                value = THIS.id
                            }
                            is_in_array = {
                                array = global.EspionageMemberSenateArray
                                value = THIS.id
                            }
                            is_in_array = {
                                array = global.EconomicMemberSenateArray
                                value = THIS.id
                            }
                        }
                        check_variable = {Global.EconomicMemberSenateArray^num < 6}
                    }
                    add_to_array = {
                        array = Global.EconomicMemberSenateArray
                        value = ROOT.id
                    }
                    set_country_flag = member_of_economic_committee
                }else_if = {
					limit = {
                        NOT={
                            is_in_array = {
                                array = global.MilitaryMemberSenateArray
                                value = THIS.id
                            }
                            is_in_array = {
                                array = global.ResearchMemberSenateArray
                                value = THIS.id
                            }
                            is_in_array = {
                                array = global.EspionageMemberSenateArray
                                value = THIS.id
                            }
                            is_in_array = {
                                array = global.EconomicMemberSenateArray
                                value = THIS.id
                            }
                        }
                        check_variable = {Global.EconomicMemberSenateArray^num = 5}
                    }
					replace_economic_member_calculator = yes
				}
			}
			new_rep_leader_economic_flag_frame_click = {
				if = {
                    limit = {
                        NOT={
                            is_in_array = {
                                array = global.MilitaryMemberSenateArray
                                value = THIS.id
                            }
                            is_in_array = {
                                array = global.ResearchMemberSenateArray
                                value = THIS.id
                            }
                            is_in_array = {
                                array = global.EspionageMemberSenateArray
                                value = THIS.id
                            }
                            is_in_array = {
                                array = global.EconomicMemberSenateArray
                                value = THIS.id
                            }
                        }
                        check_variable = {Global.EconomicMemberSenateArray^num < 6}
                    }
                    add_to_array = {
                        array = Global.EconomicMemberSenateArray
                        value = ROOT.id
                    }
                    set_country_flag = member_of_economic_committee
                }else_if = {
					limit = {
						NOT={
							is_in_array = {
								array = global.MilitaryMemberSenateArray
								value = THIS.id
							}
							is_in_array = {
								array = global.ResearchMemberSenateArray
								value = THIS.id
							}
							is_in_array = {
								array = global.EspionageMemberSenateArray
								value = THIS.id
							}
							is_in_array = {
								array = global.EconomicMemberSenateArray
								value = THIS.id
							}
						}
						check_variable = {Global.EconomicMemberSenateArray^num = 5}
					}
					replace_economic_member_calculator = yes
				}
			}
			new_rep_senate_economy_law_1_click = {
				set_country_flag = economic_policy_open
				set_country_flag = new_rep_law_1_selected
				clr_country_flag = new_rep_law_2_selected
				clr_country_flag = new_rep_law_3_selected
				clr_country_flag = new_rep_law_4_selected
				clr_country_flag = new_rep_law_5_selected
			}
			new_rep_senate_economy_law_2_click = {
				set_country_flag = economic_policy_open
				set_country_flag = new_rep_law_2_selected
				clr_country_flag = new_rep_law_1_selected
				clr_country_flag = new_rep_law_3_selected
				clr_country_flag = new_rep_law_4_selected
				clr_country_flag = new_rep_law_5_selected
			}
			new_rep_senate_economy_law_3_click = {
				set_country_flag = economic_policy_open
				set_country_flag = new_rep_law_3_selected
				clr_country_flag = new_rep_law_1_selected
				clr_country_flag = new_rep_law_2_selected
				clr_country_flag = new_rep_law_4_selected
				clr_country_flag = new_rep_law_5_selected
			}
			new_rep_senate_economy_law_4_click = {
				set_country_flag = economic_policy_open
				set_country_flag = new_rep_law_4_selected
				clr_country_flag = new_rep_law_1_selected
				clr_country_flag = new_rep_law_2_selected
				clr_country_flag = new_rep_law_3_selected
				clr_country_flag = new_rep_law_5_selected
			}
			new_rep_senate_economy_law_5_click = {
				set_country_flag = economic_policy_open
				set_country_flag = new_rep_law_5_selected
				clr_country_flag = new_rep_law_1_selected
				clr_country_flag = new_rep_law_2_selected
				clr_country_flag = new_rep_law_3_selected
				clr_country_flag = new_rep_law_4_selected
			}
		}
		triggers = {
			new_rep_economic_member_1_frame_click_enabled = {
				NOT = {
					has_country_flag = member_of_economic_committee
					has_country_flag = member_of_espionage_committee
					has_country_flag = member_of_military_committee
					has_country_flag = member_of_research_committee
				}
			}
			new_rep_economic_member_2_frame_click_enabled = {
				NOT = {
					has_country_flag = member_of_economic_committee
					has_country_flag = member_of_espionage_committee
					has_country_flag = member_of_military_committee
					has_country_flag = member_of_research_committee
				}
			}
			new_rep_economic_member_3_frame_click_enabled = {
				NOT = {
					has_country_flag = member_of_economic_committee
					has_country_flag = member_of_espionage_committee
					has_country_flag = member_of_military_committee
					has_country_flag = member_of_research_committee
				}
			}
			new_rep_economic_member_4_frame_click_enabled = {
				NOT = {
					has_country_flag = member_of_economic_committee
					has_country_flag = member_of_espionage_committee
					has_country_flag = member_of_military_committee
					has_country_flag = member_of_research_committee
				}
			}
			new_rep_leader_economic_flag_frame_click_enabled = {
				NOT = {
					has_country_flag = member_of_economic_committee
					has_country_flag = member_of_espionage_committee
					has_country_flag = member_of_military_committee
					has_country_flag = member_of_research_committee
				}
			}
			new_rep_economic_member_1_visible = {
				NOT = {
					check_variable = { Global.EconomicMemberSenateArray^1 = 0 }
				}
			}
			new_rep_economic_member_2_visible = {
				NOT = {
					check_variable = { Global.EconomicMemberSenateArray^2 = 0 }
				}
			}
			new_rep_economic_member_3_visible = {
				NOT = {
					check_variable = { Global.EconomicMemberSenateArray^3 = 0 }
				}
			}
			new_rep_economic_member_4_visible = {
				NOT = {
					check_variable = { Global.EconomicMemberSenateArray^4 = 0 }
				}
			}
			new_rep_leader_economic_flag_visible = {
				NOT = {
					check_variable = { Global.EconomicMemberSenateArray^0 = 0 }
				}
			}
			
		}
		properties = {
			new_rep_senate_economy_law_1 = {
				frame = new_rep_economic_law_1
			}
			new_rep_senate_economy_law_2 = {
				frame = new_rep_economic_law_2
			}
			new_rep_senate_economy_law_3 = {
				frame = new_rep_economic_law_3
			}
			new_rep_senate_economy_law_4 = {
				frame = new_rep_economic_law_4
			}
			new_rep_senate_economy_law_5 = {
				frame = new_rep_economic_law_5
			}
			new_rep_economic_member_1 = {
				image = "[?Global.EconomicMemberSenateArray^1.GetFlag]"
			}
			new_rep_economic_member_2 = {
				image = "[?Global.EconomicMemberSenateArray^2.GetFlag]"
			}
			new_rep_economic_member_3 = {
				image = "[?Global.EconomicMemberSenateArray^3.GetFlag]"
			}
			new_rep_economic_member_4 = {
				image = "[?Global.EconomicMemberSenateArray^4.GetFlag]"
			}
			new_rep_leader_economic_flag = {
				image = "[?Global.EconomicMemberSenateArray^0.GetFlag]"
			}
		}
	}
	senate_espionage_screen = {
		context_type = player_context
		window_name = "senate_espionage_screen"
		parent_window_name = "senate_screen"
		visible = {
           has_country_flag = espionage_committee_open
		}
		effects = {
			senate_flag_frame_leader_click = {
				capital_scope = {
					ROOT = {
						goto_state = PREV
					}
				}
			}
			
			new_rep_espionage_member_1_frame_click = {
				if = {
                    limit = {
                        NOT={
                            is_in_array = {
                                array = global.MilitaryMemberSenateArray
                                value = THIS.id
                            }
                            is_in_array = {
                                array = global.ResearchMemberSenateArray
                                value = THIS.id
                            }
                            is_in_array = {
                                array = global.EspionageMemberSenateArray
                                value = THIS.id
                            }
                            is_in_array = {
                                array = global.EconomicMemberSenateArray
                                value = THIS.id
                            }
                        }
                        check_variable = {Global.EspionageMemberSenateArray^num < 6}
                    }
                    add_to_array = {
                        array = Global.EspionageMemberSenateArray
                        value = ROOT.id
                    }
                    set_country_flag = member_of_espionage_committee
                }else_if = {
					limit = {
						NOT={
							is_in_array = {
								array = global.MilitaryMemberSenateArray
								value = THIS.id
							}
							is_in_array = {
								array = global.ResearchMemberSenateArray
								value = THIS.id
							}
							is_in_array = {
								array = global.EspionageMemberSenateArray
								value = THIS.id
							}
							is_in_array = {
								array = global.EconomicMemberSenateArray
								value = THIS.id
							}
						}
						check_variable = {Global.EspionageMemberSenateArray^num = 5}
					}
					replace_espionage_member_calculator = yes
				}
			}
			new_rep_espionage_member_2_frame_click = {
				if = {
                    limit = {
                        NOT={
                            is_in_array = {
                                array = global.MilitaryMemberSenateArray
                                value = THIS.id
                            }
                            is_in_array = {
                                array = global.ResearchMemberSenateArray
                                value = THIS.id
                            }
                            is_in_array = {
                                array = global.EspionageMemberSenateArray
                                value = THIS.id
                            }
                            is_in_array = {
                                array = global.EconomicMemberSenateArray
                                value = THIS.id
                            }
                        }
                        check_variable = {Global.EspionageMemberSenateArray^num < 6}
                    }
                    add_to_array = {
                        array = Global.EspionageMemberSenateArray
                        value = ROOT.id
                    }
                    set_country_flag = member_of_espionage_committee
                }else_if = {
					limit = {
						NOT={
							is_in_array = {
								array = global.MilitaryMemberSenateArray
								value = THIS.id
							}
							is_in_array = {
								array = global.ResearchMemberSenateArray
								value = THIS.id
							}
							is_in_array = {
								array = global.EspionageMemberSenateArray
								value = THIS.id
							}
							is_in_array = {
								array = global.EconomicMemberSenateArray
								value = THIS.id
							}
						}
						check_variable = {Global.EspionageMemberSenateArray^num = 5}
					}
					replace_espionage_member_calculator = yes
				}
			}
			new_rep_espionage_member_3_frame_click = {
				if = {
                    limit = {
                        NOT={
                            is_in_array = {
                                array = global.MilitaryMemberSenateArray
                                value = THIS.id
                            }
                            is_in_array = {
                                array = global.ResearchMemberSenateArray
                                value = THIS.id
                            }
                            is_in_array = {
                                array = global.EspionageMemberSenateArray
                                value = THIS.id
                            }
                            is_in_array = {
                                array = global.EconomicMemberSenateArray
                                value = THIS.id
                            }
                        }
                        check_variable = {Global.EspionageMemberSenateArray^num < 6}
                    }
                    add_to_array = {
                        array = Global.EspionageMemberSenateArray
                        value = ROOT.id
                    }
                    set_country_flag = member_of_espionage_committee
                }else_if = {
					limit = {
						NOT={
							is_in_array = {
								array = global.MilitaryMemberSenateArray
								value = THIS.id
							}
							is_in_array = {
								array = global.ResearchMemberSenateArray
								value = THIS.id
							}
							is_in_array = {
								array = global.EspionageMemberSenateArray
								value = THIS.id
							}
							is_in_array = {
								array = global.EconomicMemberSenateArray
								value = THIS.id
							}
						}
						check_variable = {Global.EspionageMemberSenateArray^num = 5}
					}
					replace_espionage_member_calculator = yes
				}
			}
			new_rep_espionage_member_4_frame_click = {
				if = {
                    limit = {
                        NOT={
                            is_in_array = {
                                array = global.MilitaryMemberSenateArray
                                value = THIS.id
                            }
                            is_in_array = {
                                array = global.ResearchMemberSenateArray
                                value = THIS.id
                            }
                            is_in_array = {
                                array = global.EspionageMemberSenateArray
                                value = THIS.id
                            }
                            is_in_array = {
                                array = global.EconomicMemberSenateArray
                                value = THIS.id
                            }
                        }
                        check_variable = {Global.EspionageMemberSenateArray^num < 6}
                    }
                    add_to_array = {
                        array = Global.EspionageMemberSenateArray
                        value = ROOT.id
                    }
                    set_country_flag = member_of_espionage_committee
                }else_if = {
					limit = {
						NOT={
							is_in_array = {
								array = global.MilitaryMemberSenateArray
								value = THIS.id
							}
							is_in_array = {
								array = global.ResearchMemberSenateArray
								value = THIS.id
							}
							is_in_array = {
								array = global.EspionageMemberSenateArray
								value = THIS.id
							}
							is_in_array = {
								array = global.EconomicMemberSenateArray
								value = THIS.id
							}
						}
						check_variable = {Global.EspionageMemberSenateArray^num = 5}
					}
					replace_espionage_member_calculator = yes
				}
			}
			new_rep_leader_espionage_flag_frame_click = {
				if = {
                    limit = {
                        NOT={
                            is_in_array = {
                                array = global.MilitaryMemberSenateArray
                                value = THIS.id
                            }
                            is_in_array = {
                                array = global.ResearchMemberSenateArray
                                value = THIS.id
                            }
                            is_in_array = {
                                array = global.EspionageMemberSenateArray
                                value = THIS.id
                            }
                            is_in_array = {
                                array = global.EconomicMemberSenateArray
                                value = THIS.id
                            }
                        }
                        check_variable = {Global.EspionageMemberSenateArray^num < 5}
                    }
                    add_to_array = {
                        array = Global.EspionageMemberSenateArray
                        value = ROOT.id
                    }
                    set_country_flag = member_of_espionage_committee
                }else_if = {
					limit = {
						NOT={
							is_in_array = {
								array = global.MilitaryMemberSenateArray
								value = THIS.id
							}
							is_in_array = {
								array = global.ResearchMemberSenateArray
								value = THIS.id
							}
							is_in_array = {
								array = global.EspionageMemberSenateArray
								value = THIS.id
							}
							is_in_array = {
								array = global.EconomicMemberSenateArray
								value = THIS.id
							}
						}
						check_variable = {Global.EspionageMemberSenateArray^num = 5}
					}
					replace_espionage_member_calculator = yes
				}
			}
			new_rep_senate_espionage_law_1_click = {
				if = {
					limit = {
						has_country_flag = senate_policy_espionage_open
					}
					clr_country_flag = senate_policy_espionage_open
				}
				else = {
					set_country_flag = senate_policy_espionage_open
					set_variable = { selected_button = 1}
				}
			}
			new_rep_senate_espionage_law_2_click = {
				if = {
					limit = {
						has_country_flag = senate_policy_espionage_open
					}
					clr_country_flag = senate_policy_espionage_open
				}
				else = {
					set_country_flag = senate_policy_espionage_open
					set_variable = { selected_button = 2}
				}
			}
			new_rep_senate_espionage_law_3_click = {
				if = {
					limit = {
						has_country_flag = senate_policy_espionage_open
					}
					clr_country_flag = senate_policy_espionage_open
				}
				else = {
					set_country_flag = senate_policy_espionage_open
					set_variable = { selected_button = 3}
				}
			}
			new_rep_senate_espionage_law_4_click = {
				if = {
					limit = {
						has_country_flag = senate_policy_espionage_open
					}
					clr_country_flag = senate_policy_espionage_open
				}
				else = {
					set_country_flag = senate_policy_espionage_open
					set_variable = { selected_button = 4}
				}
			}
			new_rep_senate_espionage_law_5_click = {
				if = {
					limit = {
						has_country_flag = senate_policy_espionage_open
					}
					clr_country_flag = senate_policy_espionage_open
				}
				else = {
					set_country_flag = senate_policy_espionage_open
					set_variable = { selected_button = 5 }
				}
			}
		}
		triggers = {
			new_rep_espionage_member_1_frame_click_enabled = {
				NOT = {
					has_country_flag = member_of_economic_committee
					has_country_flag = member_of_espionage_committee
					has_country_flag = member_of_military_committee
					has_country_flag = member_of_research_committee
				}
			}
			new_rep_espionage_member_2_frame_click_enabled = {
				NOT = {
					has_country_flag = member_of_economic_committee
					has_country_flag = member_of_espionage_committee
					has_country_flag = member_of_military_committee
					has_country_flag = member_of_research_committee
				}
			}
			new_rep_espionage_member_3_frame_click_enabled = {
				NOT = {
					has_country_flag = member_of_economic_committee
					has_country_flag = member_of_espionage_committee
					has_country_flag = member_of_military_committee
					has_country_flag = member_of_research_committee
				}
			}
			new_rep_espionage_member_4_frame_click_enabled = {
				NOT = {
					has_country_flag = member_of_economic_committee
					has_country_flag = member_of_espionage_committee
					has_country_flag = member_of_military_committee
					has_country_flag = member_of_research_committee
				}
			}
			new_rep_leader_espionage_flag_frame_click_enabled = {
				NOT = {
					has_country_flag = member_of_economic_committee
					has_country_flag = member_of_espionage_committee
					has_country_flag = member_of_military_committee
					has_country_flag = member_of_research_committee
				}
			}
			new_rep_espionage_member_1_visible = {
				NOT = {
					check_variable = { Global.EspionageMemberSenateArray^1 = 0 }
				}
			}
			new_rep_espionage_member_2_visible = {
				NOT = {
					check_variable = { Global.EspionageMemberSenateArray^2 = 0 }
				}
			}
			new_rep_espionage_member_3_visible = {
				NOT = {
					check_variable = { Global.EspionageMemberSenateArray^3 = 0 }
				}
			}
			new_rep_espionage_member_4_visible = {
				NOT = {
					check_variable = { Global.EspionageMemberSenateArray^4 = 0 }
				}
			}
			new_rep_leader_espionage_flag_visible = {
				NOT = {
					check_variable = { Global.EspionageMemberSenateArray^0 = 0 }
				}
			}
		}
		properties = {
			new_rep_senate_espionage_law_1 = {
				frame = Global.new_rep_law_espionage_1
			}
			new_rep_senate_espionage_law_2 = {
				frame = Global.new_rep_law_espionage_2
			}
			new_rep_senate_espionage_law_3 = {
				frame = Global.new_rep_law_espionage_3
			}
			new_rep_senate_espionage_law_4 = {
				frame = Global.new_rep_law_espionage_4
			}
			new_rep_senate_espionage_law_5 = {
				frame = Global.new_rep_law_espionage_5
			}
			new_rep_espionage_member_1 = {
				image = "[?Global.EspionageMemberSenateArray^1.GetFlag]"
			}
			new_rep_espionage_member_2 = {
				image = "[?Global.EspionageMemberSenateArray^2.GetFlag]"
			}
			new_rep_espionage_member_3 = {
				image = "[?Global.EspionageMemberSenateArray^3.GetFlag]"
			}
			new_rep_espionage_member_4 = {
				image = "[?Global.EspionageMemberSenateArray^4.GetFlag]"
			}
			new_rep_leader_espionage_flag = {
				image = "[?Global.EspionageMemberSenateArray^0.GetFlag]"
			}
		}
	}
	senate_military_screen = {
		context_type = player_context
		window_name = "senate_military_screen"
		parent_window_name = "senate_screen"
		visible = {
		   has_country_flag = military_committee_open
		}
		effects = {
			new_rep_military_member_1_frame_click = {
				if = {
                    limit = {
                        NOT={
                            is_in_array = {
                                array = global.MilitaryMemberSenateArray
                                value = THIS.id
                            }
                            is_in_array = {
                                array = global.ResearchMemberSenateArray
                                value = THIS.id
                            }
                            is_in_array = {
                                array = global.EspionageMemberSenateArray
                                value = THIS.id
                            }
                            is_in_array = {
                                array = global.EconomicMemberSenateArray
                                value = THIS.id
                            }
                        }
                        check_variable = {Global.MilitaryMemberSenateArray^num < 6}
                    }
                    add_to_array = {
                        array = Global.MilitaryMemberSenateArray
                        value = ROOT.id
                    }
                    set_country_flag = member_of_military_committee
                }else_if = {
					limit = {
						NOT={
							is_in_array = {
								array = global.MilitaryMemberSenateArray
								value = THIS.id
							}
							is_in_array = {
								array = global.ResearchMemberSenateArray
								value = THIS.id
							}
							is_in_array = {
								array = global.EspionageMemberSenateArray
								value = THIS.id
							}
							is_in_array = {
								array = global.EconomicMemberSenateArray
								value = THIS.id
							}
						}
						check_variable = {Global.MilitaryMemberSenateArray^num = 5}
					}
					replace_military_member_calculator = yes
				}
			}
			new_rep_military_member_2_frame_click = {
				if = {
                    limit = {
                        NOT={
                            is_in_array = {
                                array = global.MilitaryMemberSenateArray
                                value = THIS.id
                            }
                            is_in_array = {
                                array = global.ResearchMemberSenateArray
                                value = THIS.id
                            }
                            is_in_array = {
                                array = global.EspionageMemberSenateArray
                                value = THIS.id
                            }
                            is_in_array = {
                                array = global.EconomicMemberSenateArray
                                value = THIS.id
                            }
                        }
                        check_variable = {Global.MilitaryMemberSenateArray^num < 6}
                    }
                    add_to_array = {
                        array = Global.MilitaryMemberSenateArray
                        value = ROOT.id
                    }
                    set_country_flag = member_of_military_committee
                }else_if = {
					limit = {
						NOT={
							is_in_array = {
								array = global.MilitaryMemberSenateArray
								value = THIS.id
							}
							is_in_array = {
								array = global.ResearchMemberSenateArray
								value = THIS.id
							}
							is_in_array = {
								array = global.EspionageMemberSenateArray
								value = THIS.id
							}
							is_in_array = {
								array = global.EconomicMemberSenateArray
								value = THIS.id
							}
						}
						check_variable = {Global.MilitaryMemberSenateArray^num = 5}
					}
					replace_military_member_calculator = yes
				}
			}
			new_rep_military_member_3_frame_click = {
				if = {
                    limit = {
                        NOT={
                            is_in_array = {
                                array = global.MilitaryMemberSenateArray
                                value = THIS.id
                            }
                            is_in_array = {
                                array = global.ResearchMemberSenateArray
                                value = THIS.id
                            }
                            is_in_array = {
                                array = global.EspionageMemberSenateArray
                                value = THIS.id
                            }
                            is_in_array = {
                                array = global.EconomicMemberSenateArray
                                value = THIS.id
                            }
                        }
                        check_variable = {Global.MilitaryMemberSenateArray^num < 6}
                    }
                    add_to_array = {
                        array = Global.MilitaryMemberSenateArray
                        value = ROOT.id
                    }
                    set_country_flag = member_of_military_committee
                }else_if = {
					limit = {
						NOT={
							is_in_array = {
								array = global.MilitaryMemberSenateArray
								value = THIS.id
							}
							is_in_array = {
								array = global.ResearchMemberSenateArray
								value = THIS.id
							}
							is_in_array = {
								array = global.EspionageMemberSenateArray
								value = THIS.id
							}
							is_in_array = {
								array = global.EconomicMemberSenateArray
								value = THIS.id
							}
						}
						check_variable = {Global.MilitaryMemberSenateArray^num = 5}
					}
					replace_military_member_calculator = yes
				}
			}
			new_rep_military_member_4_frame_click = {
				if = {
                    limit = {
                        NOT={
                            is_in_array = {
                                array = global.MilitaryMemberSenateArray
                                value = THIS.id
                            }
                            is_in_array = {
                                array = global.ResearchMemberSenateArray
                                value = THIS.id
                            }
                            is_in_array = {
                                array = global.EspionageMemberSenateArray
                                value = THIS.id
                            }
                            is_in_array = {
                                array = global.EconomicMemberSenateArray
                                value = THIS.id
                            }
                        }
                        check_variable = {Global.MilitaryMemberSenateArray^num < 6}
                    }
                    add_to_array = {
                        array = Global.MilitaryMemberSenateArray
                        value = ROOT.id
                    }
                    set_country_flag = member_of_military_committee
                }else_if = { ## PUT SENATE MEMBER IN WHEN MEMBERS ARE FULL
					limit = {
						NOT={
							is_in_array = {
								array = global.MilitaryMemberSenateArray
								value = THIS.id
							}
							is_in_array = {
								array = global.ResearchMemberSenateArray
								value = THIS.id
							}
							is_in_array = {
								array = global.EspionageMemberSenateArray
								value = THIS.id
							}
							is_in_array = {
								array = global.EconomicMemberSenateArray
								value = THIS.id
							}
						}
						check_variable = {Global.MilitaryMemberSenateArray^num = 5}
					}
					replace_military_member_calculator = yes
				}
			}
			new_rep_leader_military_flag_frame_click = {
				if = {
                    limit = {
                        NOT={
                            is_in_array = {
                                array = global.MilitaryMemberSenateArray
                                value = THIS.id
                            }
                            is_in_array = {
                                array = global.ResearchMemberSenateArray
                                value = THIS.id
                            }
                            is_in_array = {
                                array = global.EspionageMemberSenateArray
                                value = THIS.id
                            }
                            is_in_array = {
                                array = global.EconomicMemberSenateArray
                                value = THIS.id
                            }
                        }
                        check_variable = {Global.MilitaryMemberSenateArray^num < 6}
                    }
                    add_to_array = {
                        array = Global.MilitaryMemberSenateArray
                        value = ROOT.id
                    }
                    set_country_flag = member_of_military_committee
                }else_if = {
					limit = {
						NOT={
							is_in_array = {
								array = global.MilitaryMemberSenateArray
								value = THIS.id
							}
							is_in_array = {
								array = global.ResearchMemberSenateArray
								value = THIS.id
							}
							is_in_array = {
								array = global.EspionageMemberSenateArray
								value = THIS.id
							}
							is_in_array = {
								array = global.EconomicMemberSenateArray
								value = THIS.id
							}
						}
						check_variable = {Global.MilitaryMemberSenateArray^num = 5}
					}
					replace_military_member_calculator = yes
				}
			}
			new_rep_senate_military_law_1_click = {
				set_country_flag = military_policy_open
				set_country_flag = new_rep_law_1_selected
				clr_country_flag = new_rep_law_2_selected
				clr_country_flag = new_rep_law_3_selected
				clr_country_flag = new_rep_law_4_selected
				clr_country_flag = new_rep_law_5_selected
			}
			new_rep_senate_military_law_2_click = {
				set_country_flag = military_policy_open
				set_country_flag = new_rep_law_2_selected
				clr_country_flag = new_rep_law_1_selected
				clr_country_flag = new_rep_law_3_selected
				clr_country_flag = new_rep_law_4_selected
				clr_country_flag = new_rep_law_5_selected
			}
			new_rep_senate_military_law_3_click = {
				set_country_flag = military_policy_open
				set_country_flag = new_rep_law_3_selected
				clr_country_flag = new_rep_law_1_selected
				clr_country_flag = new_rep_law_2_selected
				clr_country_flag = new_rep_law_4_selected
				clr_country_flag = new_rep_law_5_selected
			}
			new_rep_senate_military_law_4_click = {
				set_country_flag = military_policy_open
				set_country_flag = new_rep_law_4_selected
				clr_country_flag = new_rep_law_1_selected
				clr_country_flag = new_rep_law_2_selected
				clr_country_flag = new_rep_law_3_selected
				clr_country_flag = new_rep_law_5_selected
			}
			new_rep_senate_military_law_5_click = {
				set_country_flag = military_policy_open
				set_country_flag = new_rep_law_5_selected
				clr_country_flag = new_rep_law_1_selected
				clr_country_flag = new_rep_law_2_selected
				clr_country_flag = new_rep_law_3_selected
				clr_country_flag = new_rep_law_4_selected
			}
		}
		triggers = {
			new_rep_military_member_1_frame_click_enabled = {
				NOT = {
					has_country_flag = member_of_economic_committee
					has_country_flag = member_of_espionage_committee
					has_country_flag = member_of_military_committee
					has_country_flag = member_of_research_committee
				}
			}
			new_rep_military_member_2_frame_click_enabled = {
				NOT = {
					has_country_flag = member_of_economic_committee
					has_country_flag = member_of_espionage_committee
					has_country_flag = member_of_military_committee
					has_country_flag = member_of_research_committee
				}
			}
			new_rep_military_member_3_frame_click_enabled = {
				NOT = {
					has_country_flag = member_of_economic_committee
					has_country_flag = member_of_espionage_committee
					has_country_flag = member_of_military_committee
					has_country_flag = member_of_research_committee
				}
			}
			new_rep_military_member_4_frame_click_enabled = {
				NOT = {
					has_country_flag = member_of_economic_committee
					has_country_flag = member_of_espionage_committee
					has_country_flag = member_of_military_committee
					has_country_flag = member_of_research_committee
				}
			}
			new_rep_leader_military_flag_frame_click_enabled = {
				NOT = {
					has_country_flag = member_of_economic_committee
					has_country_flag = member_of_espionage_committee
					has_country_flag = member_of_military_committee
					has_country_flag = member_of_research_committee
				}
			}
			new_rep_military_member_1_visible = {
				NOT = {
					check_variable = { Global.MilitaryMemberSenateArray^1 = 0 }
				}
			}
			new_rep_military_member_2_visible = {
				NOT = {
					check_variable = { Global.MilitaryMemberSenateArray^2 = 0 }
				}
			}
			new_rep_military_member_3_visible = {
				NOT = {
					check_variable = { Global.MilitaryMemberSenateArray^3 = 0 }
				}
			}
			new_rep_military_member_4_visible = {
				NOT = {
					check_variable = { Global.MilitaryMemberSenateArray^4 = 0 }
				}
			}
			new_rep_leader_military_flag_visible = {
				NOT = {
					check_variable = { Global.MilitaryMemberSenateArray^0 = 0 }
				}
			}
		}
		properties = {
			new_rep_senate_military_law_1 = {
				frame = new_rep_military_law_1
			}
			new_rep_senate_military_law_2 = {
				frame = new_rep_military_law_2
			}
			new_rep_senate_military_law_3 = {
				frame = new_rep_military_law_3
			}
			new_rep_senate_military_law_4 = {
				frame = new_rep_military_law_4
			}
			new_rep_senate_military_law_5 = {
				frame = new_rep_military_law_5
			}
			new_rep_military_member_1 = {
				image = "[?Global.MilitaryMemberSenateArray^1.GetFlag]"
			}
			new_rep_military_member_2 = {
				image = "[?Global.MilitaryMemberSenateArray^2.GetFlag]"
			}
			new_rep_military_member_3 = {
				image = "[?Global.MilitaryMemberSenateArray^3.GetFlag]"
			}
			new_rep_military_member_4 = {
				image = "[?Global.MilitaryMemberSenateArray^4.GetFlag]"
			}
			new_rep_leader_military_flag = {
				image = "[?Global.MilitaryMemberSenateArray^0.GetFlag]"
			}
		}
	}
	senate_main_screen = {
		context_type = player_context
		window_name = "senate_main_screen"
		parent_window_name = "senate_screen"
		visible = {
           has_country_flag = senate_main_open
		}
		effects = {
			open_senate_leader_election_button = {## opens gridbox with peoples flags
				if = {
					limit = {
						has_country_flag = open_senate_election_leader
					}
					clr_country_flag = open_senate_election_leader
				}else = {
					set_country_flag = open_senate_election_leader
				}
			}
			senate_choice_click = {
				if = {
					limit = {
						check_variable = { senate_choice = 1 }
					}
					add_to_array = { global.presidental_election_canidates = ROOT.id }
					set_variable = { senate_choice = 2 }
				}
				else = {
					remove_from_array = {
						array = global.presidental_election_canidates
						value = ROOT.id
					}				
					set_variable = { senate_choice = 1 }
				}
			}
			senate_flag_frame_leader_click = {
				capital_scope = {
					ROOT = {
						goto_state = PREV
					}
				}
			}
			member_flag_click = {
				capital_scope = {
					ROOT = {
						goto_state = PREV
					}
				}
			}
			new_rep_senate_law_1_click = {
				if = {
					limit = {
						has_country_flag = senate_policy_open
					}
					clr_country_flag = senate_policy_open
					clr_country_flag = new_rep_law_1_selected
				}
				else = {
					set_country_flag = senate_policy_open
					set_country_flag = new_rep_law_1_selected
					clr_country_flag = new_rep_law_2_selected
					clr_country_flag = new_rep_law_3_selected
					clr_country_flag = new_rep_law_4_selected
					clr_country_flag = new_rep_law_5_selected
				}
			}
			new_rep_senate_law_2_click = {
				if = {
					limit = {
						has_country_flag = senate_policy_open
					}
					clr_country_flag = senate_policy_open
					clr_country_flag = new_rep_law_2_selected
				}
				else = {
					set_country_flag = senate_policy_open
					clr_country_flag = new_rep_law_1_selected
					set_country_flag = new_rep_law_2_selected
					clr_country_flag = new_rep_law_3_selected
					clr_country_flag = new_rep_law_4_selected
					clr_country_flag = new_rep_law_5_selected
				}
			}
			new_rep_senate_law_3_click = {
				if = {
					limit = {
						has_country_flag = senate_policy_open
					}
					clr_country_flag = senate_policy_open
					clr_country_flag = new_rep_law_3_selected
				}
				else = {
					set_country_flag = senate_policy_open
					clr_country_flag = new_rep_law_1_selected
					clr_country_flag = new_rep_law_2_selected
					set_country_flag = new_rep_law_3_selected
					clr_country_flag = new_rep_law_4_selected
					clr_country_flag = new_rep_law_5_selected
				}
			}
			new_rep_senate_law_4_click = {
				if = {
					limit = {
						has_country_flag = senate_policy_open
					}
					clr_country_flag = senate_policy_open
					clr_country_flag = new_rep_law_4_selected
				}
				else = {
					set_country_flag = senate_policy_open
					clr_country_flag = new_rep_law_1_selected
					clr_country_flag = new_rep_law_2_selected
					clr_country_flag = new_rep_law_3_selected
					set_country_flag = new_rep_law_4_selected
					clr_country_flag = new_rep_law_5_selected
				}
			}
			new_rep_senate_law_5_click = {
				if = {
					limit = {
						has_country_flag = senate_policy_open
					}
					clr_country_flag = senate_policy_open
					clr_country_flag = new_rep_law_5_selected
				}
				else = {
					set_country_flag = senate_policy_open
					clr_country_flag = new_rep_law_1_selected
					clr_country_flag = new_rep_law_2_selected
					clr_country_flag = new_rep_law_3_selected
					clr_country_flag = new_rep_law_4_selected
					set_country_flag = new_rep_law_5_selected
				}
			}
		}
		dynamic_lists = {
			centrist_grid = {
				array = Global.rep_centrists
				entry_container = new_rep_centrists_senate_entry
				change_scope = yes
			}
			populists_grid = {
				array = Global.rep_populists
				entry_container = new_rep_centrists_senate_entry
				change_scope = yes
			}
		}
		properties = {
			new_rep_senate_law_1 = {
				frame = Global.new_rep_law_1
			}
			new_rep_senate_law_2 = {
				frame = Global.new_rep_law_2
			}
			new_rep_senate_law_3 = {
				frame = Global.new_rep_law_3
			}
			new_rep_senate_law_4 = {
				frame = Global.new_rep_law_4
			}
			new_rep_senate_law_5 = {
				frame = Global.new_rep_law_5
			}
			member_flag = {
				image = "[This.GetFlag]"
			}
			new_rep_leader_flag = {
				image = "[ROOT.GetFlag]"
			}
			senate_choice = {
				frame = senate_choice
			}
		}
	}
	senate_voting_leader_screen = {
		context_type = player_context
		window_name = "senate_voting_leader_screen"
		parent_window_name = "senate_screen"
		visible = {
			has_country_flag = open_senate_election_leader
		}
		effects = {
			leader_vote_flag_click = {
				THIS = {
					add_to_variable = {new_republic_election_score = root.total_new_republic_voting_score}
				}
				ROOT = {
					set_country_flag = voted_for_leader
				}
			}
		}
		triggers = {
			leader_vote_flag_click_enabled = {
				NOT = {
					root = {
						has_country_flag = voted_for_leader
					}
				}
			}
		}
		dynamic_lists = {
			candidates_grid = {
				array = global.presidental_election_canidates
				entry_container = leader_vote_entry
				change_scope = yes
			}
		}
		properties = {
			leader_vote_flag = {
				image = "[This.GetFlag]"
			}
		}
	}
	senate_research_screen = {
		context_type = player_context
		window_name = "senate_research_screen"
		parent_window_name = "senate_screen"
		visible = {
		   has_country_flag = research_committee_open
		}
		effects = {
			new_rep_research_member_1_frame_click = {
				if = {
                    limit = {
                        NOT={
                            is_in_array = {
                                array = global.MilitaryMemberSenateArray
                                value = THIS.id
                            }
                            is_in_array = {
                                array = global.ResearchMemberSenateArray
                                value = THIS.id
                            }
                            is_in_array = {
                                array = global.EspionageMemberSenateArray
                                value = THIS.id
                            }
                            is_in_array = {
                                array = global.EconomicMemberSenateArray
                                value = THIS.id
                            }
                        }
                        check_variable = {Global.ResearchMemberSenateArray^num < 6}
                    }
                    add_to_array = {
                        array = Global.ResearchMemberSenateArray
                        value = ROOT.id
                    }
                    set_country_flag = member_of_research_committee
                }
				else_if = {
				limit = {
					NOT={
						is_in_array = {
							array = global.MilitaryMemberSenateArray
							value = THIS.id
						}
						is_in_array = {
							array = global.ResearchMemberSenateArray
							value = THIS.id
						}
						is_in_array = {
							array = global.EspionageMemberSenateArray
							value = THIS.id
						}
						is_in_array = {
							array = global.EconomicMemberSenateArray
							value = THIS.id
						}
					}
					check_variable = {Global.ResearchMemberSenateArray^num = 5}
				}
				replace_research_member_calculator = yes
			}
			}
			new_rep_research_member_2_frame_click = {
				if = {
                    limit = {
                        NOT={
                            is_in_array = {
                                array = global.MilitaryMemberSenateArray
                                value = THIS.id
                            }
                            is_in_array = {
                                array = global.ResearchMemberSenateArray
                                value = THIS.id
                            }
                            is_in_array = {
                                array = global.EspionageMemberSenateArray
                                value = THIS.id
                            }
                            is_in_array = {
                                array = global.EconomicMemberSenateArray
                                value = THIS.id
                            }
                        }
                        check_variable = {Global.ResearchMemberSenateArray^num < 6}
                    }
                    add_to_array = {
                        array = Global.ResearchMemberSenateArray
                        value = ROOT.id
                    }
                    set_country_flag = member_of_research_committee
                }
				else_if = {
				limit = {
					NOT={
						is_in_array = {
							array = global.MilitaryMemberSenateArray
							value = THIS.id
						}
						is_in_array = {
							array = global.ResearchMemberSenateArray
							value = THIS.id
						}
						is_in_array = {
							array = global.EspionageMemberSenateArray
							value = THIS.id
						}
						is_in_array = {
							array = global.EconomicMemberSenateArray
							value = THIS.id
						}
					}
					check_variable = {Global.ResearchMemberSenateArray^num = 5}
				}
				replace_research_member_calculator = yes
			}
			}
			new_rep_research_member_3_frame_click = {
				if = {
                    limit = {
                        NOT={
                            is_in_array = {
                                array = global.MilitaryMemberSenateArray
                                value = THIS.id
                            }
                            is_in_array = {
                                array = global.ResearchMemberSenateArray
                                value = THIS.id
                            }
                            is_in_array = {
                                array = global.EspionageMemberSenateArray
                                value = THIS.id
                            }
                            is_in_array = {
                                array = global.EconomicMemberSenateArray
                                value = THIS.id
                            }
                        }
                        check_variable = {Global.ResearchMemberSenateArray^num < 6}
                    }
                    add_to_array = {
                        array = Global.ResearchMemberSenateArray
                        value = ROOT.id
                    }
                    set_country_flag = member_of_research_committee
                }
				else_if = {
				limit = {
					NOT={
						is_in_array = {
							array = global.MilitaryMemberSenateArray
							value = THIS.id
						}
						is_in_array = {
							array = global.ResearchMemberSenateArray
							value = THIS.id
						}
						is_in_array = {
							array = global.EspionageMemberSenateArray
							value = THIS.id
						}
						is_in_array = {
							array = global.EconomicMemberSenateArray
							value = THIS.id
						}
					}
					check_variable = {Global.ResearchMemberSenateArray^num = 5}
				}
				replace_research_member_calculator = yes
			}
			}
			new_rep_research_member_4_frame_click = {
				if = {
                    limit = {
                        NOT={
                            is_in_array = {
                                array = global.MilitaryMemberSenateArray
                                value = THIS.id
                            }
                            is_in_array = {
                                array = global.ResearchMemberSenateArray
                                value = THIS.id
                            }
                            is_in_array = {
                                array = global.EspionageMemberSenateArray
                                value = THIS.id
                            }
                            is_in_array = {
                                array = global.EconomicMemberSenateArray
                                value = THIS.id
                            }
						}
                        check_variable = {Global.ResearchMemberSenateArray^num < 6}
                    }
                    add_to_array = {
                        array = Global.ResearchMemberSenateArray
                        value = ROOT.id
                    }
                    set_country_flag = member_of_research_committee
                }
				else_if = {
				limit = {
					NOT={
						is_in_array = {
							array = global.MilitaryMemberSenateArray
							value = THIS.id
						}
						is_in_array = {
							array = global.ResearchMemberSenateArray
							value = THIS.id
						}
						is_in_array = {
							array = global.EspionageMemberSenateArray
							value = THIS.id
						}
						is_in_array = {
							array = global.EconomicMemberSenateArray
							value = THIS.id
						}
					}
					check_variable = {Global.ResearchMemberSenateArray^num = 5}
				}
				replace_research_member_calculator = yes
			}
			}
			new_rep_leader_research_flag_frame_click = {
				if = {
                    limit = {
                        NOT={
                            is_in_array = {
                                array = global.MilitaryMemberSenateArray
                                value = THIS.id
                            }
                            is_in_array = {
                                array = global.ResearchMemberSenateArray
                                value = THIS.id
                            }
                            is_in_array = {
                                array = global.EspionageMemberSenateArray
                                value = THIS.id
                            }
                            is_in_array = {
                                array = global.EconomicMemberSenateArray
                                value = THIS.id
                            }
                        }
                        check_variable = {Global.ResearchMemberSenateArray^num < 6}
                    }
                    add_to_array = {
                        array = Global.ResearchMemberSenateArray
                        value = ROOT.id
                    }
                    set_country_flag = member_of_research_committee
                }
				else_if = {
				limit = {
					NOT={
						is_in_array = {
							array = global.MilitaryMemberSenateArray
							value = THIS.id
						}
						is_in_array = {
							array = global.ResearchMemberSenateArray
							value = THIS.id
						}
						is_in_array = {
							array = global.EspionageMemberSenateArray
							value = THIS.id
						}
						is_in_array = {
							array = global.EconomicMemberSenateArray
							value = THIS.id
						}
					}
					check_variable = {Global.ResearchMemberSenateArray^num = 5}
				}
				replace_research_member_calculator = yes
			}
			}
			new_rep_senate_research_law_1_click = {
				set_country_flag = research_policy_open
				set_country_flag = new_rep_law_1_selected
				clr_country_flag = new_rep_law_2_selected
				clr_country_flag = new_rep_law_3_selected
				clr_country_flag = new_rep_law_4_selected
				clr_country_flag = new_rep_law_5_selected
			}
			new_rep_senate_research_law_2_click = {
				set_country_flag = research_policy_open
				set_country_flag = new_rep_law_2_selected
				clr_country_flag = new_rep_law_1_selected
				clr_country_flag = new_rep_law_3_selected
				clr_country_flag = new_rep_law_4_selected
				clr_country_flag = new_rep_law_5_selected
			}
			new_rep_senate_research_law_3_click = {
				set_country_flag = research_policy_open
				set_country_flag = new_rep_law_3_selected
				clr_country_flag = new_rep_law_1_selected
				clr_country_flag = new_rep_law_2_selected
				clr_country_flag = new_rep_law_4_selected
				clr_country_flag = new_rep_law_5_selected
			}
			new_rep_senate_research_law_4_click = {
				set_country_flag = research_policy_open
				set_country_flag = new_rep_law_4_selected
				clr_country_flag = new_rep_law_1_selected
				clr_country_flag = new_rep_law_2_selected
				clr_country_flag = new_rep_law_3_selected
				clr_country_flag = new_rep_law_5_selected
			}
			new_rep_senate_research_law_5_click = {
				set_country_flag = research_policy_open
				set_country_flag = new_rep_law_5_selected
				clr_country_flag = new_rep_law_1_selected
				clr_country_flag = new_rep_law_2_selected
				clr_country_flag = new_rep_law_3_selected
				clr_country_flag = new_rep_law_4_selected
			}
		}
		triggers = {
			new_rep_research_member_1_frame_click_enabled = {
				NOT = {
					has_country_flag = member_of_economic_committee
					has_country_flag = member_of_espionage_committee
					has_country_flag = member_of_military_committee
					has_country_flag = member_of_research_committee				
				}
			}
			new_rep_research_member_2_frame_click_enabled = {
				NOT = {
					has_country_flag = member_of_economic_committee
					has_country_flag = member_of_espionage_committee
					has_country_flag = member_of_military_committee
					has_country_flag = member_of_research_committee				
				}
			}
			new_rep_research_member_3_frame_click_enabled = {
				NOT = {
					has_country_flag = member_of_economic_committee
					has_country_flag = member_of_espionage_committee
					has_country_flag = member_of_military_committee
					has_country_flag = member_of_research_committee				
				}
			}
			new_rep_research_member_4_frame_click_enabled = {
				NOT = {
					has_country_flag = member_of_economic_committee
					has_country_flag = member_of_espionage_committee
					has_country_flag = member_of_military_committee
					has_country_flag = member_of_research_committee				
				}
			}
			new_rep_leader_research_flag_frame_click_enabled = {
				NOT = {
					has_country_flag = member_of_economic_committee
					has_country_flag = member_of_espionage_committee
					has_country_flag = member_of_military_committee
					has_country_flag = member_of_research_committee				
				}
			}
			new_rep_research_member_1_visible = {
				NOT = {
					check_variable = { Global.ResearchMemberSenateArray^1 = 0 }
				}
			}
			new_rep_research_member_2_visible = {
				NOT = {
					check_variable = { Global.ResearchMemberSenateArray^2 = 0 }
				}
			}
			new_rep_research_member_3_visible = {
				NOT = {
					check_variable = { Global.ResearchMemberSenateArray^3 = 0 }
				}
			}
			new_rep_research_member_4_visible = {
				NOT = {
					check_variable = { Global.ResearchMemberSenateArray^4 = 0 }
				}
			}
			new_rep_leader_research_flag_visible = {
				NOT = {
					check_variable = { Global.ResearchMemberSenateArray^0 = 0 }
				}
			}
		}
		properties = {
			new_rep_senate_research_law_1 = {
				frame = new_rep_research_law_1
			}
			new_rep_senate_research_law_2 = {
				frame = new_rep_research_law_2
			}
			new_rep_senate_research_law_3 = {
				frame = new_rep_research_law_3
			}
			new_rep_senate_research_law_4 = {
				frame = new_rep_research_law_4
			}
			new_rep_senate_research_law_5 = {
				frame = new_rep_research_law_5
			}
			new_rep_research_member_1 = {
				image = "[?Global.ResearchMemberSenateArray^1.GetFlag]"
			}
			new_rep_research_member_2 = {
				image = "[?Global.ResearchMemberSenateArray^2.GetFlag]"
			}
			new_rep_research_member_3 = {
				image = "[?Global.ResearchMemberSenateArray^3.GetFlag]"
			}
			new_rep_research_member_4 = {
				image = "[?Global.ResearchMemberSenateArray^4.GetFlag]"
			}
			new_rep_leader_research_flag = {
				image = "[?Global.ResearchMemberSenateArray^0.GetFlag]"
			}
		}
	}
	senate_policy_screen = {
		context_type = player_context
		window_name = "senate_policy_screen"
		parent_window_name = "senate_screen"
		visible = {
           has_country_flag = senate_policy_open
		}
		effects = {
			new_rep_senate_law_1_main_click = {
				if = {
					limit = {
						has_country_flag = new_rep_law_1_selected
					}
					set_variable = { Global.new_rep_law_1 = 4 }
					clr_country_flag = senate_policy_open
				}
				if = {
					limit = {
						has_country_flag = new_rep_law_2_selected
					}
					set_variable = { Global.new_rep_law_2 = 4 }
					clr_country_flag = senate_policy_open
				}
				if = {
					limit = {
						has_country_flag = new_rep_law_3_selected
					}
					set_variable = { Global.new_rep_law_3 = 4 }
					clr_country_flag = senate_policy_open
				}
				if = {
					limit = {
						has_country_flag = new_rep_law_4_selected
					}
					set_variable = { Global.new_rep_law_4 = 4 }
					clr_country_flag = senate_policy_open
				}
				if = {
					limit = {
						has_country_flag = new_rep_law_5_selected
					}
					set_variable = { Global.new_rep_law_5 = 4 }
					clr_country_flag = senate_policy_open
				}
			}
			new_rep_senate_law_2_main_click = {
				if = {
					limit = {
						has_country_flag = new_rep_law_1_selected
					}
					set_variable = { Global.new_rep_law_1 = 6 }
					clr_country_flag = senate_policy_open
				}
				if = {
					limit = {
						has_country_flag = new_rep_law_2_selected
					}
					set_variable = { Global.new_rep_law_2 = 6 }
					clr_country_flag = senate_policy_open
				}
				if = {
					limit = {
						has_country_flag = new_rep_law_3_selected
					}
					set_variable = { Global.new_rep_law_3 = 6 }
					clr_country_flag = senate_policy_open
				}
				if = {
					limit = {
						has_country_flag = new_rep_law_4_selected
					}
					set_variable = { Global.new_rep_law_4 = 6 }
					clr_country_flag = senate_policy_open
				}
				if = {
					limit = {
						has_country_flag = new_rep_law_5_selected
					}
					set_variable = { Global.new_rep_law_5 = 6 }
					clr_country_flag = senate_policy_open
				}
			}
			new_rep_senate_law_3_main_click = {
				if = {
					limit = {
						has_country_flag = new_rep_law_1_selected
					}
					set_variable = { Global.new_rep_law_1 = 5 }
					clr_country_flag = senate_policy_open
				}
				if = {
					limit = {
						has_country_flag = new_rep_law_2_selected
					}
					set_variable = { Global.new_rep_law_2 = 5 }
					clr_country_flag = senate_policy_open
				}
				if = {
					limit = {
						has_country_flag = new_rep_law_3_selected
					}
					set_variable = { Global.new_rep_law_3 = 5 }
					clr_country_flag = senate_policy_open
				}
				if = {
					limit = {
						has_country_flag = new_rep_law_4_selected
					}
					set_variable = { Global.new_rep_law_4 = 5 }
					clr_country_flag = senate_policy_open
				}
				if = {
					limit = {
						has_country_flag = new_rep_law_5_selected
					}
					set_variable = { Global.new_rep_law_5 = 5 }
					clr_country_flag = senate_policy_open
				}
			}
			new_rep_senate_law_4_main_click = {
				if = {
					limit = {
						has_country_flag = new_rep_law_1_selected
					}
					set_variable = { Global.new_rep_law_1 = 3 }
					clr_country_flag = senate_policy_open
				}
				if = {
					limit = {
						has_country_flag = new_rep_law_2_selected
					}
					set_variable = { Global.new_rep_law_2 = 3 }
					clr_country_flag = senate_policy_open
				}
				if = {
					limit = {
						has_country_flag = new_rep_law_3_selected
					}
					set_variable = { Global.new_rep_law_3 = 3 }
					clr_country_flag = senate_policy_open
				}
				if = {
					limit = {
						has_country_flag = new_rep_law_4_selected
					}
					set_variable = { Global.new_rep_law_4 = 3 }
					clr_country_flag = senate_policy_open
				}
				if = {
					limit = {
						has_country_flag = new_rep_law_5_selected
					}
					set_variable = { Global.new_rep_law_5 = 3 }
					clr_country_flag = senate_policy_open
				}
			}
		}
		triggers = {
			
		}
		dynamic_lists = {

		}
		properties = {
			new_rep_senate_law_1 = {
				frame = new_rep_law_1
			}
		}
	}
	senate_espionage_policy_screen = {
		context_type = player_context
		window_name = "senate_policy_espionage_screen"
		parent_window_name = "senate_screen"
		visible = {
           has_country_flag = senate_policy_espionage_open
		   has_country_flag = espionage_committee_open
		}
		effects = {
			alpha_blue_click = {
					set_global_flag = alpha_blue_allowed
					news_event = {
						id = newsenate.1
						days = 30
					}
					set_variable = { Global.new_rep_law_espionage_number = selected_button }
					clr_country_flag = senate_policy_espionage_open
					set_global_flag = {
						flag = espionage_vote_ongoing
						days = 30
						value = 1
					}
					set_global_flag = {
						flag = alpha_blue_vote
						days = 30
						value = 1
					}
				}
			alpha_green_click = {
				news_event = {
					id = newsenate.2
					days = 30
				}
				set_variable = { Global.new_rep_law_espionage_number = selected_button }
				clr_country_flag = senate_policy_espionage_open
				set_global_flag = {
					flag = espionage_vote_ongoing
					days = 30
					value = 1
				}
				set_global_flag = {
					flag = alpha_green_vote
					days = 30
					value = 1
				}
			}
			alpha_red_click = {
				news_event = {
					id = newsenate.3
					days = 30
				}
				set_variable = { Global.new_rep_law_espionage_number = selected_button }
				clr_country_flag = senate_policy_espionage_open
				set_global_flag = {
					flag = espionage_vote_ongoing
					days = 30
					value = 1
				}
				set_global_flag = {
					flag = alpha_red_vote
					days = 30
					value = 1
				}
			}
			bothan_spynet_click = {
				set_global_flag = alpha_blue_allowed
				news_event = {
					id = newsenate.4
					days = 30
				}
				set_variable = { Global.new_rep_law_espionage_number = selected_button }
				clr_country_flag = senate_policy_espionage_open
				set_global_flag = {
					flag = espionage_vote_ongoing
					days = 30
					value = 1
				}
				set_global_flag = {
					flag = bothan_spynet_vote
					days = 30
					value = 1
				}
			}
			spy_guilds_click = {
				set_global_flag = alpha_blue_allowed
				news_event = {
					id = newsenate.5
					days = 30
				}
				set_variable = { Global.new_rep_law_espionage_number = selected_button }
				clr_country_flag = senate_policy_espionage_open
				set_global_flag = {
					flag = espionage_vote_ongoing
					days = 30
					value = 1
				}
				set_global_flag = {
					flag = spy_guilds_vote
					days = 30
					value = 1
				}
			}
			wraith_squadron_click = {
				set_global_flag = alpha_blue_allowed
				news_event = {
					id = newsenate.6
					days = 30
				}
				set_variable = { Global.new_rep_law_espionage_number = selected_button }
				clr_country_flag = senate_policy_espionage_open
				set_global_flag = {
					flag = espionage_vote_ongoing
					days = 30
					value = 1
				}
				set_global_flag = {
					flag = wraith_squadron_vote
					days = 30
					value = 1
				}
			}
		}
		triggers = {
			alpha_blue_click_enabled = {
				NOT = { 
					has_global_flag = espionage_vote_ongoing
					has_global_flag = alpha_blue_allowed
				}
			}
			alpha_green_click_enabled = {
				NOT = { 
					has_global_flag = espionage_vote_ongoing
				}
			}
			alpha_red_click_enabled = {
				NOT = { 
					has_global_flag = espionage_vote_ongoing
				}
			}
			wraith_squadron_click_enabled = {
				NOT = { 
					has_global_flag = espionage_vote_ongoing
				}
			}
			spy_guilds_click_enabled = {
				NOT = { 
					has_global_flag = espionage_vote_ongoing
				}
			}
			bothan_spynet_click_enabled = {
				NOT = { 
					has_global_flag = espionage_vote_ongoing
					has_global_flag = bothan_spynet_allowed
				}
			}
		}
	}
}
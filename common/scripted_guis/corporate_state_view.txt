scripted_gui = {
	corporate_state_screen = {
	
		context_type = selected_state_context
		parent_window_token = selected_state_view
		
		window_name = "corporate_state_screen"
		
		visible = {
			always = yes
		}
		
		effects = {
			building_1_click = {
				ROOT = {
					if = {
						limit = {
							ROOT = {
								has_country_flag = building_1_open
							}
						}
						clr_country_flag = building_2_open
						clr_country_flag = building_1_open
					}
					else = {
						set_country_flag = building_1_open
						clr_country_flag = building_2_open
					}
				}
			}
			building_2_click = {
				ROOT = {
					if = {
						limit = {
							has_country_flag = building_2_open
						}
						clr_country_flag = building_2_open
						clr_country_flag = building_1_open
					}
					else = {
						set_country_flag = building_2_open
						clr_country_flag = building_1_open
					}
				}
			}
		}
		
		triggers = {
			building_back_visible = {
				#has_state_flag = senate_building
			}
		}

		properties = {
			building_1 = {
				image = "[GetBuilding1icon]"
			}
			building_2 = {
				image = "[GetBuilding2icon]"
			}
		}

		ai_enabled = {
            always = no
		}

		ai_check = {
		}

		ai_weights = {
		}
	}
	corporate_state_construction_screen_buttons = {
	
		context_type = selected_state_context
		parent_window_token = corporate_state_construction_screen
		
		window_name = "corporate_state_construction_screen_buttons"
		
		visible = {
			ROOT = {
				OR = {
					has_country_flag = building_1_open
					has_country_flag = building_2_open
				}
			}
		}
		effects = {
			navy_button_click = {
				ROOT = {
					set_country_flag = navy_buildings
					clr_country_flag = military_buildings
					clr_country_flag = government_buildings
					clr_country_flag = economics_buildings
				}
			}
			military_button_click = {
				ROOT = {
					set_country_flag = military_buildings
					clr_country_flag = navy_buildings
					clr_country_flag = government_buildings
					clr_country_flag = economics_buildings
				}
			}
			government_button_click = {
				ROOT = {
					set_country_flag = government_buildings
					clr_country_flag = navy_buildings
					clr_country_flag = military_buildings
					clr_country_flag = economics_buildings
				}
			}
			economic_button_click = {
				ROOT = {
					set_country_flag = economics_buildings
					clr_country_flag = navy_buildings
					clr_country_flag = military_buildings
					clr_country_flag = government_buildings
				}
			}
		}
	}
	corporate_state_construction_screen_navy = {
	
		context_type = selected_state_context
		parent_window_token = selected_state_view
		
		window_name = "corporate_state_construction_screen_navy"
		
		visible = {
			ROOT = {
				AND = {
					OR = {
						has_country_flag = building_1_open
						has_country_flag = building_2_open
					}
					has_country_flag = navy_buildings
				}
			}
		}
		
		effects = {
			shipyard_1_click = {
				if = {
					limit = {
						ROOT = {
							has_country_flag = building_1_open
						}
					}
					clear_building_1_effects = yes
					set_variable = { building_1 = token:building_shipyard_1 }
					building_shipyard_1_add_effect = yes
					ROOT = {
						add_ideas = building_shipyard_1
					}
				}
				if = {
					limit = {
						ROOT = {
							has_country_flag = building_2_open
						}
					}
					clear_building_2_effects = yes
					set_variable = { building_2 = token:building_shipyard_1 }
					building_shipyard_1_add_effect = yes
					ROOT = {
						add_ideas = building_shipyard_1
					}
				}
			}
			light_shipyard_2_click = {
				if = {
					limit = {
						ROOT = {
							has_country_flag = building_1_open
						}
					}
					clear_building_1_effects = yes
					set_variable = { building_1 = token:light_shipyard_2 }
					light_shipyard_2_add_effect = yes
					ROOT = {
						add_ideas = light_shipyard_2
					}
				}
				if = {
					limit = {
						ROOT = {
							has_country_flag = building_2_open
						}
					}
					clear_building_2_effects = yes
					set_variable = { building_2 = token:light_shipyard_2 }
					light_shipyard_2_add_effect = yes
					ROOT = {
						add_ideas = light_shipyard_2
					}
				}
			}
			light_shipyard_3_click = {
				if = {
					limit = {
						ROOT = {
							has_country_flag = building_1_open
						}
					}
					clear_building_1_effects = yes
					set_variable = { building_1 = token:light_shipyard_3 }
					light_shipyard_3_add_effect = yes
					ROOT = {
						add_ideas = light_shipyard_3
					}
				}
				if = {
					limit = {
						ROOT = {
							has_country_flag = building_2_open
						}
					}
					clear_building_2_effects = yes
					set_variable = { building_2 = token:light_shipyard_3 }
					light_shipyard_3_add_effect = yes
					ROOT = {
						add_ideas = light_shipyard_3
					}
				}
			}
			medium_shipyard_1_click = {
				if = {
					limit = {
						ROOT = {
							has_country_flag = building_1_open
						}
					}
					clear_building_1_effects = yes
					set_variable = { building_1 = token:medium_shipyard_2 }
					medium_shipyard_2_add_effect = yes
					ROOT = {
						add_ideas = medium_shipyard_2
					}
				}
				if = {
					limit = {
						ROOT = {
							has_country_flag = building_2_open
						}
					}
					clear_building_2_effects = yes
					set_variable = { building_2 = token:medium_shipyard_2 }
					medium_shipyard_2_add_effect = yes
					ROOT = {
						add_ideas = medium_shipyard_2
					}
				}
			}
			medium_shipyard_2_click = {
				if = {
					limit = {
						ROOT = {
							has_country_flag = building_1_open
						}
					}
					clear_building_1_effects = yes
					set_variable = { building_1 = token:medium_shipyard_3 }
					medium_shipyard_3_add_effect = yes
					ROOT = {
						add_ideas = medium_shipyard_3
					}
				}
				if = {
					limit = {
						ROOT = {
							has_country_flag = building_2_open
						}
					}
					clear_building_2_effects = yes
					set_variable = { building_2 = token:medium_shipyard_3 }
					medium_shipyard_3_add_effect = yes
					ROOT = {
						add_ideas = medium_shipyard_3
					}
				}
			}
			heavy_shipyard_click = {
				if = {
					limit = {
						ROOT = {
							has_country_flag = building_1_open
						}
					}
					clear_building_1_effects = yes
					set_variable = { building_1 = token:heavy_shipyard_3 }
					heavy_shipyard_3_add_effect = yes
					ROOT = {
						add_ideas = heavy_shipyard_3
					}
				}
				if = {
					limit = {
						ROOT = {
							has_country_flag = building_2_open
						}
					}
					clear_building_2_effects = yes
					set_variable = { building_2 = token:heavy_shipyard_3 }
					heavy_shipyard_3_add_effect = yes
					ROOT = {
						add_ideas = heavy_shipyard_3
					}
				}
			}
			starfighters_click = {
				if = {
					limit = {
						ROOT = {
							has_country_flag = building_1_open
						}
					}
					clear_building_1_effects = yes
					set_variable = { building_1 = token:starfighter_factory_1 }
					starfighter_factory_1_add_effect = yes
					ROOT = {
						add_ideas = starfighter_factory_1
					}
				}
				if = {
					limit = {
						ROOT = {
							has_country_flag = building_2_open
						}
					}
					clear_building_2_effects = yes
					set_variable = { building_2 = token:starfighter_factory_1 }
					starfighter_factory_1_add_effect = yes
					ROOT = {
						add_ideas = starfighter_factory_1
					}
				}
			}
			starfighters_2_click = {
				if = {
					limit = {
						ROOT = {
							has_country_flag = building_1_open
						}
					}
					clear_building_1_effects = yes
					set_variable = { building_1 = token:starfighter_factory_2 }
					starfighter_factory_2_add_effect = yes
					ROOT = {
						add_ideas = starfighter_factory_2
					}
				}
				if = {
					limit = {
						ROOT = {
							has_country_flag = building_2_open
						}
					}
					clear_building_2_effects = yes
					set_variable = { building_2 = token:starfighter_factory_2 }
					starfighter_factory_2_add_effect = yes
					ROOT = {
						add_ideas = starfighter_factory_2
					}
				}
			}
			starfighters_3_click = {
				if = {
					limit = {
						ROOT = {
							has_country_flag = building_1_open
						}
					}
					clear_building_1_effects = yes
					set_variable = { building_1 = token:starfighter_factory_3 }
					starfighter_factory_3_add_effect = yes
					ROOT = {
						add_ideas = starfighter_factory_3
					}
				}
				if = {
					limit = {
						ROOT = {
							has_country_flag = building_2_open
						}
					}
					clear_building_2_effects = yes
					set_variable = { building_2 = token:starfighter_factory_3 }
					starfighter_factory_3_add_effect = yes
					ROOT = {
						add_ideas = starfighter_factory_3
					}
				}
			}
			starbombers_click = {
				if = {
					limit = {
						ROOT = {
							has_country_flag = building_1_open
						}
					}
					clear_building_1_effects = yes
					set_variable = { building_1 = token:starbomber_factory_2 }
					starbomber_factory_2_add_effect = yes
					ROOT = {
						add_ideas = starfighter_factory_2
					}
				}
				if = {
					limit = {
						ROOT = {
							has_country_flag = building_2_open
						}
					}
					clear_building_2_effects = yes
					set_variable = { building_2 = token:starbomber_factory_2 }
					starbomber_factory_2_add_effect = yes
					ROOT = {
						add_ideas = starfighter_factory_2
					}
				}
			}
			starbombers_2_click = {
				if = {
					limit = {
						ROOT = {
							has_country_flag = building_1_open
						}
					}
					clear_building_1_effects = yes
					set_variable = { building_1 = token:starbomber_factory_3 }
					starbomber_factory_3_add_effect = yes
					ROOT = {
						add_ideas = starfighter_factory_3
					}
				}
				if = {
					limit = {
						ROOT = {
							has_country_flag = building_2_open
						}
					}
					clear_building_2_effects = yes
					set_variable = { building_2 = token:starbomber_factory_3 }
					starbomber_factory_3_add_effect = yes
					ROOT = {
						add_ideas = starfighter_factory_3
					}
				}
			}
		}
		
		triggers = {
			arms_corp1_click_enabled = {
				if = {
					limit = {
						ROOT = {
							has_country_flag = building_1_open
						}
					}
					clear_building_1_effects = yes
					NOT = {
						check_variable = { building_1 = 2 }
					}
				}
				else_if = {
					limit = {
						ROOT = {
							has_country_flag = building_2_open
						}
					}
					clear_building_2_effects = yes
					NOT = {
						check_variable = { building_2 = 2 }
					}
				}
			}
			arms_corp2_click_enabled = {
				check_variable = { building_1_lvl = 1 }
				if = {
					limit = {
						ROOT = {
							has_country_flag = building_1_open
						}
					}
					clear_building_1_effects = yes
					NOT = {
						check_variable = { building_1 = 2 }
					}
				}
				else_if = {
					limit = {
						ROOT = {
							has_country_flag = building_2_open
						}
					}
					clear_building_2_effects = yes
					NOT = {
						check_variable = { building_2 = 2 }
					}
				}
			}
			droid_corp1_click_enabled = {
				if = {
					limit = {
						ROOT = {
							has_country_flag = building_1_open
						}
					}
					clear_building_1_effects = yes
					NOT = {
						check_variable = { building_1 = 3 }
					}
				}
				else_if = {
					limit = {
						ROOT = {
							has_country_flag = building_2_open
						}
					}
					clear_building_2_effects = yes
					NOT = {
						check_variable = { building_2 = 3 }
					}
				}
			}
			shipyard_1_click_enabled = {
				if = {
					limit = {
						ROOT = {
							has_country_flag = building_1_open
						}
					}
					clear_building_1_effects = yes
					NOT = {
						check_variable = { building_1 = 4 }
					}
				}
				else_if = {
					limit = {
						ROOT = {
							has_country_flag = building_2_open
						}
					}
					clear_building_2_effects = yes
					NOT = {
						check_variable = { building_2 = 4 }
					}
				}
			}
			entertainment_corp1_click_enabled = {
				if = {
					limit = {
						ROOT = {
							has_country_flag = building_1_open
						}
					}
					clear_building_1_effects = yes
					NOT = {
						check_variable = { building_1 = 5 }
					}
				}
				else_if = {
					limit = {
						ROOT = {
							has_country_flag = building_2_open
						}
					}
					clear_building_2_effects = yes
					NOT = {
						check_variable = { building_2 = 5 }
					}
				}
			}
			pharma_corp1_click_enabled = {
				if = {
					limit = {
						ROOT = {
							has_country_flag = building_1_open
						}
					}
					clear_building_1_effects = yes
					NOT = {
						check_variable = { building_1 = 6 }
					}
				}
				else_if = {
					limit = {
						ROOT = {
							has_country_flag = building_2_open
						}
					}
					clear_building_2_effects = yes
					NOT = {
						check_variable = { building_2 = 6 }
					}
				}
			}
			resources_corp1_click_enabled = {
				if = {
					limit = {
						ROOT = {
							has_country_flag = building_1_open
						}
					}
					clear_building_1_effects = yes
					NOT = {
						check_variable = { building_1 = 7 }
					}
				}
				else_if = {
					limit = {
						ROOT = {
							has_country_flag = building_2_open
						}
					}
					clear_building_2_effects = yes
					NOT = {
						check_variable = { building_2 = 7 }
					}
				}
			}
			building_back_visible = {
				#has_state_flag = senate_building
			}
		}

		ai_enabled = {
            always = no
		}

		ai_check = {
		}

		ai_weights = {
		}
	}
	corporate_state_construction_screen_military = {
	
		context_type = selected_state_context
		parent_window_token = selected_state_view
		
		window_name = "corporate_state_construction_screen_military"
		
		visible = {
			ROOT = {
				AND = {
					OR = {
						has_country_flag = building_1_open
						has_country_flag = building_2_open
					}
					has_country_flag = military_buildings
				}
			}
		}
		
		effects = {
			arms_factory_click = {
				if = {
					limit = {
						ROOT = {
							has_country_flag = building_1_open
						}
					}
					clear_building_1_effects = yes
					set_variable = { building_1 = token:arms_factory_1 }
					arms_factory_1_add_effect = yes
					ROOT = {
						add_ideas = arms_factory_1
					}
				}
				if = {
					limit = {
						ROOT = {
							has_country_flag = building_2_open
						}
					}
					clear_building_2_effects = yes
					set_variable = { building_2 = token:arms_factory_1 }
					arms_factory_1_add_effect = yes
					ROOT = {
						add_ideas = arms_factory_1
					}
				}
			}
			arms_factory_2_click = {
				if = {
					limit = {
						ROOT = {
							has_country_flag = building_1_open
						}
					}
					clear_building_1_effects = yes
					set_variable = { building_1 = token:soft_arms_factory_2 }
					soft_arms_factory_2_add_effect = yes
					ROOT = {
						add_ideas = soft_arms_factory_2
					}
				}
				if = {
					limit = {
						ROOT = {
							has_country_flag = building_2_open
						}
					}
					clear_building_2_effects = yes
					set_variable = { building_2 = token:soft_arms_factory_2 }
					soft_arms_factory_2_add_effect = yes
					ROOT = {
						add_ideas = soft_arms_factory_2
					}
				}
			}
			arms_factory_3_click = {
				if = {
					limit = {
						ROOT = {
							has_country_flag = building_1_open
						}
					}
					clear_building_1_effects = yes
					set_variable = { building_1 = token:soft_arms_factory_3 }
					soft_arms_factory_3_add_effect = yes
					ROOT = {
						add_ideas = soft_arms_factory_3
					}
				}
				if = {
					limit = {
						ROOT = {
							has_country_flag = building_2_open
						}
					}
					clear_building_2_effects = yes
					set_variable = { building_2 = token:soft_arms_factory_3 }
					soft_arms_factory_3_add_effect = yes
					ROOT = {
						add_ideas = soft_arms_factory_3
					}
				}
			}
			tank_factory_2_click = { 
				if = {
					limit = {
						ROOT = {
							has_country_flag = building_1_open
						}
					}
					clear_building_1_effects = yes
					set_variable = { building_1 = token:tank_factory_2 }
					tank_factory_2_add_effect = yes
					ROOT = {
						add_ideas = tank_factory_2
					}
				}
				if = {
					limit = {
						ROOT = {
							has_country_flag = building_2_open
						}
					}
					clear_building_2_effects = yes
					set_variable = { building_2 = token:tank_factory_2 }
					tank_factory_2_add_effect = yes
					ROOT = {
						add_ideas = tank_factory_2
					}
				}
			}
			tank_factory_3_click = { 
				if = {
					limit = {
						ROOT = {
							has_country_flag = building_1_open
						}
					}
					clear_building_1_effects = yes
					set_variable = { building_1 = token:tank_factory_3 }
					tank_factory_3_add_effect = yes
					ROOT = {
						add_ideas = tank_factory_3
					}
				}
				if = {
					limit = {
						ROOT = {
							has_country_flag = building_2_open
						}
					}
					clear_building_2_effects = yes
					set_variable = { building_2 = token:tank_factory_3 }
					tank_factory_3_add_effect = yes
					ROOT = {
						add_ideas = tank_factory_3
					}
				}
			}
			training_facilities_click = {
				if = {
					limit = {
						ROOT = {
							has_country_flag = building_1_open
						}
					}
					clear_building_1_effects = yes
					set_variable = { building_1 = token:training_facilities_1 }
					ROOT = {
						add_ideas = training_facilities_1
					}
				}
				if = {
					limit = {
						ROOT = {
							has_country_flag = building_2_open
						}
					}
					clear_building_2_effects = yes
					set_variable = { building_2 = token:training_facilities_1 }
					ROOT = {
						add_ideas = training_facilities_1
					}
				}
			}
			special_forces_training_facilities_click = {
				if = {
					limit = {
						ROOT = {
							has_country_flag = building_1_open
						}
					}
					clear_building_1_effects = yes
					set_variable = { building_1 = token:special_forces_training_2 }
					ROOT = {
						add_ideas = special_forces_training_2
					}
				}
				if = {
					limit = {
						ROOT = {
							has_country_flag = building_2_open
						}
					}
					clear_building_2_effects = yes
					set_variable = { building_2 = token:special_forces_training_2 }
					ROOT = {
						add_ideas = special_forces_training_2
					}
				}
			}
			special_forces_training_facilities_2_click = {
				if = {
					limit = {
						ROOT = {
							has_country_flag = building_1_open
						}
					}
					clear_building_1_effects = yes
					set_variable = { building_1 = token:special_forces_training_3 }
					ROOT = {
						add_ideas = special_forces_training_3
					}
				}
				if = {
					limit = {
						ROOT = {
							has_country_flag = building_2_open
						}
					}
					clear_building_2_effects = yes
					set_variable = { building_2 = token:special_forces_training_3 }
					ROOT = {
						add_ideas = special_forces_training_3
					}
				}
			}
			military_bootcamp_2_click = {
				if = {
					limit = {
						ROOT = {
							has_country_flag = building_1_open
						}
					}
					clear_building_1_effects = yes
					set_variable = { building_1 = token:military_bootcamp_2 }
					ROOT = {
						add_ideas = military_bootcamp_2
					}
				}
				if = {
					limit = {
						ROOT = {
							has_country_flag = building_2_open
						}
					}
					clear_building_2_effects = yes
					set_variable = { building_2 = token:military_bootcamp_2 }
					ROOT = {
						add_ideas = military_bootcamp_2
					}
				}
			}
			military_bootcamp_3_click = {
				if = {
					limit = {
						ROOT = {
							has_country_flag = building_1_open
						}
					}
					clear_building_1_effects = yes
					set_variable = { building_1 = token:military_bootcamp_3 }
					ROOT = {
						add_ideas = military_bootcamp_3
					}
				}
				if = {
					limit = {
						ROOT = {
							has_country_flag = building_2_open
						}
					}
					clear_building_2_effects = yes
					set_variable = { building_2 = token:military_bootcamp_3 }
					ROOT = {
						add_ideas = military_bootcamp_3
					}
				}
			}
			small_anti_air_click = {
				if = {
					limit = {
						ROOT = {
							has_country_flag = building_1_open
						}
					}
					clear_building_1_effects = yes
					set_variable = { building_1 = token:anti_air_1 }
					anti_air_1_add_effect = yes
					ROOT = {
						add_ideas = anti_air_1
					}
				}
				if = {
					limit = {
						ROOT = {
							has_country_flag = building_2_open
						}
					}
					clear_building_2_effects = yes
					set_variable = { building_2 = token:anti_air_1 }
					anti_air_1_add_effect = yes
					ROOT = {
						add_ideas = anti_air_1
					}
				}
			}
			medium_guns_click = {
				if = {
					limit = {
						ROOT = {
							has_country_flag = building_1_open
						}
					}
					clear_building_1_effects = yes
					set_variable = { building_1 = token:anti_air_2 }
					anti_air_2_add_effect = yes
					ROOT = {
						add_ideas = anti_air_2
					}
				}
				if = {
					limit = {
						ROOT = {
							has_country_flag = building_2_open
						}
					}
					clear_building_2_effects = yes
					set_variable = { building_2 = token:anti_air_2 }
					anti_air_2_add_effect = yes
					ROOT = {
						add_ideas = anti_air_2
					}
				}
			}
			big_guns_click = {
				if = {
					limit = {
						ROOT = {
							has_country_flag = building_1_open
						}
					}
					clear_building_1_effects = yes
					set_variable = { building_1 = token:anti_air_3 }
					anti_air_3_add_effect = yes
					ROOT = {
						add_ideas = anti_air_3
					}
				}
				if = {
					limit = {
						ROOT = {
							has_country_flag = building_2_open
						}
					}
					clear_building_2_effects = yes
					set_variable = { building_2 = token:anti_air_3 }
					anti_air_3_add_effect = yes
					ROOT = {
						add_ideas = anti_air_3
					}
				}

			}
		}
		
		triggers = {
			arms_corp1_click_enabled = {
				if = {
					limit = {
						ROOT = {
							has_country_flag = building_1_open
						}
					}
					clear_building_1_effects = yes
					NOT = {
						check_variable = { building_1 = 2 }
					}
				}
				else_if = {
					limit = {
						ROOT = {
							has_country_flag = building_2_open
						}
					}
					clear_building_2_effects = yes
					NOT = {
						check_variable = { building_2 = 2 }
					}
				}
			}
			arms_corp2_click_enabled = {
				check_variable = { building_1_lvl = 1 }
				if = {
					limit = {
						ROOT = {
							has_country_flag = building_1_open
						}
					}
					clear_building_1_effects = yes
					NOT = {
						check_variable = { building_1 = 2 }
					}
				}
				else_if = {
					limit = {
						ROOT = {
							has_country_flag = building_2_open
						}
					}
					clear_building_2_effects = yes
					NOT = {
						check_variable = { building_2 = 2 }
					}
				}
			}
			droid_corp1_click_enabled = {
				if = {
					limit = {
						ROOT = {
							has_country_flag = building_1_open
						}
					}
					clear_building_1_effects = yes
					NOT = {
						check_variable = { building_1 = 3 }
					}
				}
				else_if = {
					limit = {
						ROOT = {
							has_country_flag = building_2_open
						}
					}
					clear_building_2_effects = yes
					NOT = {
						check_variable = { building_2 = 3 }
					}
				}
			}
			shipyard_1_click_enabled = {
				if = {
					limit = {
						ROOT = {
							has_country_flag = building_1_open
						}
					}
					clear_building_1_effects = yes
					NOT = {
						check_variable = { building_1 = 4 }
					}
				}
				else_if = {
					limit = {
						ROOT = {
							has_country_flag = building_2_open
						}
					}
					clear_building_2_effects = yes
					NOT = {
						check_variable = { building_2 = 4 }
					}
				}
			}
			entertainment_corp1_click_enabled = {
				if = {
					limit = {
						ROOT = {
							has_country_flag = building_1_open
						}
					}
					clear_building_1_effects = yes
					NOT = {
						check_variable = { building_1 = 5 }
					}
				}
				else_if = {
					limit = {
						ROOT = {
							has_country_flag = building_2_open
						}
					}
					clear_building_2_effects = yes
					NOT = {
						check_variable = { building_2 = 5 }
					}
				}
			}
			pharma_corp1_click_enabled = {
				if = {
					limit = {
						ROOT = {
							has_country_flag = building_1_open
						}
					}
					clear_building_1_effects = yes
					NOT = {
						check_variable = { building_1 = 6 }
					}
				}
				else_if = {
					limit = {
						ROOT = {
							has_country_flag = building_2_open
						}
					}
					clear_building_2_effects = yes
					NOT = {
						check_variable = { building_2 = 6 }
					}
				}
			}
			resources_corp1_click_enabled = {
				if = {
					limit = {
						ROOT = {
							has_country_flag = building_1_open
						}
					}
					clear_building_1_effects = yes
					NOT = {
						check_variable = { building_1 = 7 }
					}
				}
				else_if = {
					limit = {
						ROOT = {
							has_country_flag = building_2_open
						}
					}
					clear_building_2_effects = yes
					NOT = {
						check_variable = { building_2 = 7 }
					}
				}
			}
			building_back_visible = {
				#has_state_flag = senate_building
			}
		}

		ai_enabled = {
            always = no
		}

		ai_check = {
		}

		ai_weights = {
		}
	}
	corporate_state_construction_screen_government = {
	
		context_type = selected_state_context
		parent_window_token = selected_state_view
		
		window_name = "corporate_state_construction_screen_government"
		
		visible = {
			ROOT = {
				AND = {
					OR = {
						has_country_flag = building_1_open
						has_country_flag = building_2_open
					}
					has_country_flag = government_buildings
				}
			}
		}
		
		effects = {
			intelligence_center_click = {
				if = {
					limit = {
						ROOT = {
							has_country_flag = building_1_open
						}
					}
					clear_building_1_effects = yes
					set_variable = { building_1 = token:intelligence_centre_1 }
					intelligence_centre_1_add_effect = yes
					ROOT = {
						add_ideas = intelligence_centre_1
					}
				}
				if = {
					limit = {
						ROOT = {
							has_country_flag = building_2_open
						}
					}
					clear_building_2_effects = yes
					set_variable = { building_2 = token:intelligence_centre_1 }
					intelligence_centre_1_add_effect = yes
					ROOT = {
						add_ideas = intelligence_centre_1
					}
				}
			}
			monitoring_beacon_click = {
				if = {
					limit = {
						ROOT = {
							has_country_flag = building_1_open
						}
					}
					clear_building_1_effects = yes
					set_variable = { building_1 = token:monitoring_beacon_2 }
					monitoring_beacon_2_add_effect = yes
				}
				if = {
					limit = {
						ROOT = {
							has_country_flag = building_2_open
						}
					}
					clear_building_2_effects = yes
					set_variable = { building_2 = token:monitoring_beacon_2 }
					monitoring_beacon_2_add_effect = yes
				}
			}
			monitoring_beacon_2_click = {
				if = {
					limit = {
						ROOT = {
							has_country_flag = building_1_open
						}
					}
					clear_building_1_effects = yes
					set_variable = { building_1 = token:monitoring_beacon_3 }
					monitoring_beacon_3_add_effect = yes
				}
				if = {
					limit = {
						ROOT = {
							has_country_flag = building_2_open
						}
					}
					clear_building_2_effects = yes
					set_variable = { building_2 = token:monitoring_beacon_3 }
					monitoring_beacon_3_add_effect = yes
				}
			}
			spy_academy_2_click = {
				if = {
					limit = {
						ROOT = {
							has_country_flag = building_1_open
						}
					}
					clear_building_1_effects = yes
					set_variable = { building_1 = token:spy_academy_2 }
					ROOT = {
						add_ideas = spy_academy_2
					}
				}
				if = {
					limit = {
						ROOT = {
							has_country_flag = building_2_open
						}
					}
					clear_building_2_effects = yes
					set_variable = { building_2 = token:spy_academy_2 }
					ROOT = {
						add_ideas = spy_academy_2
					}
				}
			}
			spy_academy_3_click = {
				if = {
					limit = {
						ROOT = {
							has_country_flag = building_1_open
						}
					}
					clear_building_1_effects = yes
					set_variable = { building_1 = token:spy_academy_3 }
					ROOT = {
						add_ideas = spy_academy_3
					}
				}
				if = {
					limit = {
						ROOT = {
							has_country_flag = building_2_open
						}
					}
					clear_building_2_effects = yes
					set_variable = { building_2 = token:spy_academy_3 }
					ROOT = {
						add_ideas = spy_academy_3
					}
				}
			}
			research_center_click = {
				if = {
					limit = {
						ROOT = {
							has_country_flag = building_1_open
						}
					}
					clear_building_1_effects = yes
					set_variable = { building_1 = token:research_center_1 }
					ROOT = {
						add_ideas = research_center_1
					}
				}
				if = {
					limit = {
						ROOT = {
							has_country_flag = building_2_open
						}
					}
					clear_building_2_effects = yes
					set_variable = { building_2 = token:research_center_1 }
					ROOT = {
						add_ideas = research_center_1
					}
				}
			}
			research_center_2_click = {
				if = {
					limit = {
						ROOT = {
							has_country_flag = building_1_open
						}
					}
					clear_building_1_effects = yes
					set_variable = { building_1 = token:research_center_2 }
					ROOT = {
						add_ideas = research_center_2
					}
				}
				if = {
					limit = {
						ROOT = {
							has_country_flag = building_2_open
						}
					}
					clear_building_2_effects = yes
					set_variable = { building_2 = token:research_center_2 }
					ROOT = {
						add_ideas = research_center_2
					}
				}
			}
			research_center_3_click = {
				if = {
					limit = {
						ROOT = {
							has_country_flag = building_1_open
						}
					}
					clear_building_1_effects = yes
					set_variable = { building_1 = token:research_center_3 }
					ROOT = {
						add_ideas = research_center_3
					}
				}
				if = {
					limit = {
						ROOT = {
							has_country_flag = building_2_open
						}
					}
					clear_building_2_effects = yes
					set_variable = { building_2 = token:research_center_3 }
					ROOT = {
						add_ideas = research_center_3
					}
				}
			}
			military_academy_click = {
				if = {
					limit = {
						ROOT = {
							has_country_flag = building_1_open
						}
					}
					clear_building_1_effects = yes
					set_variable = { building_1 = token:military_academy_1 }
					ROOT = {
						add_ideas = military_academy_1
					}
				}
				if = {
					limit = {
						ROOT = {
							has_country_flag = building_2_open
						}
					}
					clear_building_2_effects = yes
					set_variable = { building_2 = token:military_academy_1 }
					ROOT = {
						add_ideas = military_academy_1
					}
				}
			}
			military_college_click = {
				if = {
					limit = {
						ROOT = {
							has_country_flag = building_1_open
						}
					}
					clear_building_1_effects = yes
					set_variable = { building_1 = token:military_college_2 }
					ROOT = {
						add_ideas = military_college_2
					}
				}
				if = {
					limit = {
						ROOT = {
							has_country_flag = building_2_open
						}
					}
					clear_building_2_effects = yes
					set_variable = { building_2 = token:military_college_2 }
					ROOT = {
						add_ideas = military_college_2
					}
				}
			}
			military_college_2_click = {
				if = {
					limit = {
						ROOT = {
							has_country_flag = building_1_open
						}
					}
					clear_building_1_effects = yes
					set_variable = { building_1 = token:military_college_3 }
					ROOT = {
						add_ideas = military_college_3
					}
				}
				if = {
					limit = {
						ROOT = {
							has_country_flag = building_2_open
						}
					}
					clear_building_2_effects = yes
					set_variable = { building_2 = token:military_college_3 }
					ROOT = {
						add_ideas = military_college_3
					}
				}
			}
			naval_academy_click = {
				if = {
					limit = {
						ROOT = {
							has_country_flag = building_1_open
						}
					}
					clear_building_1_effects = yes
					set_variable = { building_1 = token:naval_academy_2 }
					ROOT = {
						add_ideas = naval_academy_2
					}
				}
				if = {
					limit = {
						ROOT = {
							has_country_flag = building_2_open
						}
					}
					clear_building_2_effects = yes
					set_variable = { building_2 = token:naval_academy_2 }
					ROOT = {
						add_ideas = naval_academy_2
					}
				}
			}
			admiraly_academy_click = {
				if = {
					limit = {
						ROOT = {
							has_country_flag = building_1_open
						}
					}
					clear_building_1_effects = yes
					set_variable = { building_1 = token:naval_academy_3 }
					ROOT = {
						add_ideas = naval_academy_3
					}
				}
				if = {
					limit = {
						ROOT = {
							has_country_flag = building_2_open
						}
					}
					clear_building_2_effects = yes
					set_variable = { building_2 = token:naval_academy_3 }
					ROOT = {
						add_ideas = naval_academy_3
					}
				}
			}
			starship_academy_click = {
				if = {
					limit = {
						ROOT = {
							has_country_flag = building_1_open
						}
					}
					clear_building_1_effects = yes
					set_variable = { building_1 = token:starfighter_academy_3 }
					ROOT = {
						add_ideas = starfighter_factory_3
					}
				}
				if = {
					limit = {
						ROOT = {
							has_country_flag = building_2_open
						}
					}
					clear_building_2_effects = yes
					set_variable = { building_2 = token:starfighter_academy_3 }
					ROOT = {
						add_ideas = starfighter_factory_3
					}
				}
			}
			taxation_1_click = {
				if = {
					limit = {
						ROOT = {
							has_country_flag = building_1_open
						}
					}
					clear_building_1_effects = yes
					set_variable = { building_1 = token:taxation_center_1 }
					ROOT = {
						add_ideas = taxation_center_1
					}
				}
				if = {
					limit = {
						ROOT = {
							has_country_flag = building_2_open
						}
					}
					clear_building_2_effects = yes
					set_variable = { building_2 = token:taxation_center_1 }
					ROOT = {
						add_ideas = taxation_center_1
					}
				}
			}
			taxation_2_click = {
				if = {
					limit = {
						ROOT = {
							has_country_flag = building_1_open
						}
					}
					clear_building_1_effects = yes
					set_variable = { building_1 = token:taxation_center_2 }
					ROOT = {
						add_ideas = taxation_center_2
					}
				}
				if = {
					limit = {
						ROOT = {
							has_country_flag = building_2_open
						}
					}
					clear_building_2_effects = yes
					set_variable = { building_2 = token:taxation_center_2 }
					ROOT = {
						add_ideas = taxation_center_2
					}
				}
			}
			taxation_3_click = {
				if = {
					limit = {
						ROOT = {
							has_country_flag = building_1_open
						}
					}
					clear_building_1_effects = yes
					set_variable = { building_1 = token:taxation_center_3 }
					ROOT = {
						add_ideas = taxation_center_3
					}
				}
				if = {
					limit = {
						ROOT = {
							has_country_flag = building_2_open
						}
					}
					clear_building_2_effects = yes
					set_variable = { building_2 = token:taxation_center_3 }
					ROOT = {
						add_ideas = taxation_center_3
					}
				}
			}
		}
		
		triggers = {
			arms_corp1_click_enabled = {
				if = {
					limit = {
						ROOT = {
							has_country_flag = building_1_open
						}
					}
					clear_building_1_effects = yes
					NOT = {
						check_variable = { building_1 = 2 }
					}
				}
				else_if = {
					limit = {
						ROOT = {
							has_country_flag = building_2_open
						}
					}
					clear_building_2_effects = yes
					NOT = {
						check_variable = { building_2 = 2 }
					}
				}
			}
			arms_corp2_click_enabled = {
				check_variable = { building_1_lvl = 1 }
				if = {
					limit = {
						ROOT = {
							has_country_flag = building_1_open
						}
					}
					clear_building_1_effects = yes
					NOT = {
						check_variable = { building_1 = 2 }
					}
				}
				else_if = {
					limit = {
						ROOT = {
							has_country_flag = building_2_open
						}
					}
					clear_building_2_effects = yes
					NOT = {
						check_variable = { building_2 = 2 }
					}
				}
			}
			droid_corp1_click_enabled = {
				if = {
					limit = {
						ROOT = {
							has_country_flag = building_1_open
						}
					}
					clear_building_1_effects = yes
					NOT = {
						check_variable = { building_1 = 3 }
					}
				}
				else_if = {
					limit = {
						ROOT = {
							has_country_flag = building_2_open
						}
					}
					clear_building_2_effects = yes
					NOT = {
						check_variable = { building_2 = 3 }
					}
				}
			}
			shipyard_1_click_enabled = {
				if = {
					limit = {
						ROOT = {
							has_country_flag = building_1_open
						}
					}
					clear_building_1_effects = yes
					NOT = {
						check_variable = { building_1 = 4 }
					}
				}
				else_if = {
					limit = {
						ROOT = {
							has_country_flag = building_2_open
						}
					}
					clear_building_2_effects = yes
					NOT = {
						check_variable = { building_2 = 4 }
					}
				}
			}
			entertainment_corp1_click_enabled = {
				if = {
					limit = {
						ROOT = {
							has_country_flag = building_1_open
						}
					}
					clear_building_1_effects = yes
					NOT = {
						check_variable = { building_1 = 5 }
					}
				}
				else_if = {
					limit = {
						ROOT = {
							has_country_flag = building_2_open
						}
					}
					clear_building_2_effects = yes
					NOT = {
						check_variable = { building_2 = 5 }
					}
				}
			}
			pharma_corp1_click_enabled = {
				if = {
					limit = {
						ROOT = {
							has_country_flag = building_1_open
						}
					}
					clear_building_1_effects = yes
					NOT = {
						check_variable = { building_1 = 6 }
					}
				}
				else_if = {
					limit = {
						ROOT = {
							has_country_flag = building_2_open
						}
					}
					clear_building_2_effects = yes
					NOT = {
						check_variable = { building_2 = 6 }
					}
				}
			}
			resources_corp1_click_enabled = {
				if = {
					limit = {
						ROOT = {
							has_country_flag = building_1_open
						}
					}
					clear_building_1_effects = yes
					NOT = {
						check_variable = { building_1 = 7 }
					}
				}
				else_if = {
					limit = {
						ROOT = {
							has_country_flag = building_2_open
						}
					}
					clear_building_2_effects = yes
					NOT = {
						check_variable = { building_2 = 7 }
					}
				}
			}
			building_back_visible = {
				#has_state_flag = senate_building
			}
		}

		ai_enabled = {
            always = no
		}

		ai_check = {
		}

		ai_weights = {
		}
	}
	corporate_state_construction_screen_economic = {
	
		context_type = selected_state_context
		parent_window_token = selected_state_view
		
		window_name = "corporate_state_construction_screen_economic"
		
		visible = {
			ROOT = {
				AND = {
					OR = {
						has_country_flag = building_1_open
						has_country_flag = building_2_open
					}
					has_country_flag = economics_buildings
				}
			}
		}
		
		effects = {
			unique_building_click = {
				if = {
					limit = {
						ROOT = {
							has_country_flag = building_1_open
						}
					}
					clear_building_1_effects = yes
					set_variable = { building_1 = unique_building_on_state }## unique_building_on_state is a state variable holding the states unique building idea, it is used to then locate its add and removal effects
					meta_effect = {
						text = {
							[BUILDING_NAME]_add_effect = yes
						}
						BUILDING_NAME = "[?building_1.GetTokenKey]"
					}
					ROOT = {
						add_ideas = token:building_1 ## adds the idea that is linked to building 1 (unique resource building)
					}
				}
				if = {
					limit = {
						ROOT = {
							has_country_flag = building_2_open
						}
					}
					clear_building_2_effects = yes
					set_variable = { building_2 = unique_building_on_state }
					meta_effect = {
						text = {
							[BUILDING_NAME]_add_effect = yes
						}
						BUILDING_NAME = "[?building_2.GetTokenKey]"
					}
					ROOT = {
						add_ideas = token:building_2 
					}
				}
			}
			unique_building_2_click = {
				if = {
					limit = {
						ROOT = {
							has_country_flag = building_1_open
						}
					}
					clear_building_1_effects = yes
					set_variable = { building_1 = unique_building_on_state }## unique_building_on_state is a state variable holding the states unique building idea, it is used to then locate its add and removal effects
					meta_effect = {
						text = {
							[BUILDING_NAME]_2_add_effect = yes
							ROOT = {
								add_ideas = [BUILDING_NAME]_2
							}
						}
						BUILDING_NAME = "[?building_1.GetTokenKey]"
					}
				}
				if = {
					limit = {
						ROOT = {
							has_country_flag = building_2_open
						}
					}
					clear_building_2_effects = yes
					set_variable = { building_2 = unique_building_on_state }
					meta_effect = {
						text = {
							[BUILDING_NAME]_2_add_effect = yes
							ROOT = {
								add_ideas = [BUILDING_NAME]_2
							}
						}
						BUILDING_NAME = "[?building_2.GetTokenKey]"
					}
				}
			}
			unique_building_3_click = {
				if = {
					limit = {
						ROOT = {
							has_country_flag = building_1_open
						}
					}
					clear_building_1_effects = yes
					set_variable = { building_1 = unique_building_on_state }## unique_building_on_state is a state variable holding the states unique building idea, it is used to then locate its add and removal effects
					meta_effect = {
						text = {
							[BUILDING_NAME]_3_add_effect = yes
							ROOT = {
								add_ideas = [BUILDING_NAME]_3
							}
						}
						BUILDING_NAME = "[?building_1.GetTokenKey]"
					}
				}
				if = {
					limit = {
						ROOT = {
							has_country_flag = building_2_open
						}
					}
					clear_building_2_effects = yes
					set_variable = { building_2 = unique_building_on_state }
					meta_effect = {
						text = {
							[BUILDING_NAME]_3_add_effect = yes
							ROOT = {
								add_ideas = [BUILDING_NAME]_2
							}
						}
						BUILDING_NAME = "[?building_2.GetTokenKey]"
					}
				}
			}
			homstead_click = {
				if = {
					limit = {
						ROOT = {
							has_country_flag = building_1_open
						}
					}
					clear_building_1_effects = yes
					set_variable = { building_1 = token:homestead_1 }
					ROOT = {
						add_ideas = homestead_1
					}
				}
				if = {
					limit = {
						ROOT = {
							has_country_flag = building_2_open
						}
					}
					clear_building_2_effects = yes
					set_variable = { building_2 = token:homestead_1 }
					ROOT = {
						add_ideas = homestead_1
					}
				}
			}
			homstead_2_click = {
				if = {
					limit = {
						ROOT = {
							has_country_flag = building_1_open
						}
					}
					clear_building_1_effects = yes	
					set_variable = { building_1 = token:homestead_2 }
					ROOT = {
						add_ideas = homestead_2
					}
				}
				if = {
					limit = {
						ROOT = {
							has_country_flag = building_2_open
						}
					}
					clear_building_2_effects = yes	
					set_variable = { building_2 = token:homestead_2 }
					ROOT = {
						add_ideas = homestead_2
					}
				}
			}
			homstead_3_click = {
				if = {
					limit = {
						ROOT = {
							has_country_flag = building_1_open
						}
					}
					clear_building_1_effects = yes	
					set_variable = { building_1 = token:homestead_3 }
					ROOT = {
						add_ideas = homestead_3
					}
				}
				if = {
					limit = {
						ROOT = {
							has_country_flag = building_2_open
						}
					}
					clear_building_2_effects = yes	
					set_variable = { building_2 = token:homestead_3 }
					ROOT = {
						add_ideas = homestead_3
					}
				}
			}
			corporate_click = {
				if = {
					limit = {
						ROOT = {
							has_country_flag = building_1_open
						}
					}
					clear_building_1_effects = yes	
					set_variable = { building_1 = token:corporate_office_1 }
					corporate_office_1_add_effect = yes
					ROOT = {
						add_ideas = corporate_office_1
					}
				}
				if = {
					limit = {
						ROOT = {
							has_country_flag = building_2_open
						}
					}
					clear_building_2_effects = yes	
					set_variable = { building_2 = token:corporate_office_1 }
					corporate_office_1_add_effect = yes
					ROOT = {
						add_ideas = corporate_office_1
					}
				}
			}
			corporate_2_click = {
				if = {
					limit = {
						ROOT = {
							has_country_flag = building_1_open
						}
					}
					clear_building_1_effects = yes	
					set_variable = { building_1 = token:corporate_office_2 }
					corporate_office_2_add_effect = yes
					ROOT = {
						add_ideas = corporate_office_2
					}
				}
				if = {
					limit = {
						ROOT = {
							has_country_flag = building_2_open
						}
					}
					clear_building_2_effects = yes	
					set_variable = { building_2 = token:corporate_office_2 }
					corporate_office_2_add_effect = yes
					ROOT = {
						add_ideas = corporate_office_2
					}
				}
			}
			corporate_3_click = {
				if = {
					limit = {
						ROOT = {
							has_country_flag = building_1_open
						}
					}
					clear_building_1_effects = yes	
					set_variable = { building_1 = token:corporate_office_3 }
					corporate_office_3_add_effect = yes
					ROOT = {
						add_ideas = corporate_office_3
					}
				}
				if = {
					limit = {
						ROOT = {
							has_country_flag = building_2_open
						}
					}
					clear_building_2_effects = yes	
					set_variable = { building_2 = token:corporate_office_3 }
					corporate_office_3_add_effect = yes
					ROOT = {
						add_ideas = corporate_office_3
					}
				}
			}
			recycle_click = {
				if = {
					limit = {
						ROOT = {
							has_country_flag = building_1_open
						}
					}
					clear_building_1_effects = yes	
					set_variable = { building_1 = token:recycling_center_1 }
					recycle_center_1_add_effect = yes
					ROOT = {
						add_ideas = recycle_center_1
					}
				}
				if = {
					limit = {
						ROOT = {
							has_country_flag = building_2_open
						}
					}
					clear_building_2_effects = yes	
					set_variable = { building_2 = token:recycling_center_1 }
					recycle_center_1_add_effect = yes
					ROOT = {
						add_ideas = recycle_center_1
					}
				}
			}
			recycle_2_click = {
				if = {
					limit = {
						ROOT = {
							has_country_flag = building_1_open
						}
					}
					clear_building_1_effects = yes	
					set_variable = { building_1 = token:recycling_center_2 }
					recycle_center_2_add_effect = yes
					ROOT = {
						add_ideas = recycle_center_2
					}
				}
				if = {
					limit = {
						ROOT = {
							has_country_flag = building_2_open
						}
					}
					clear_building_2_effects = yes	
					set_variable = { building_2 = token:recycling_center_2 }
					recycle_center_2_add_effect = yes
					ROOT = {
						add_ideas = recycle_center_2
					}
				}
			}
			recycle_3_click = {
				if = {
					limit = {
						ROOT = {
							has_country_flag = building_1_open
						}
					}
					clear_building_1_effects = yes	
					set_variable = { building_1 = token:recycling_center_3 }
					recycle_center_3_add_effect = yes
					ROOT = {
						add_ideas = recycle_center_3
					}
				}
				if = {
					limit = {
						ROOT = {
							has_country_flag = building_2_open
						}
					}
					clear_building_2_effects = yes	
					set_variable = { building_2 = token:recycling_center_3 }
					recycle_center_3_add_effect = yes
					ROOT = {
						add_ideas = recycle_center_3
					}
				}
			}
		}
		properties = {
			unique_building = {
				image = "[GetUniqueBuildingIcon]"
			}
			unique_building_2 = {
				image = "[GetUniqueBuildingIcon]"
			}
			unique_building_3 = {
				image = "[GetUniqueBuildingIcon]"
			}
		}
		triggers = {
			unique_building_visible = {
				has_variable = unique_building_on_state
			}
			unique_building_2_visible = {
				has_variable = unique_building_on_state
			}
			unique_building_3_visible = {
				has_variable = unique_building_on_state
			}
		}

		ai_enabled = {
            always = no
		}

		ai_check = {
		}

		ai_weights = {
		}
	}
}


Add_building_to_slot_with_time_constraint = { ## THIS IS FOR ADDING BUILDINGS FOR NO COST BUT STILL REQUIRING BUILD TIME, STATE SCOPE
	hidden_effect = {
		if = {
			limit = { ## TRIES TO BUILD IN 1st SLOT THEN IN SECOND, WILL ALWAYS REPLACE SECOND BUILDING
				NOT = {
					has_variable = building_1
				}
			}
			hidden_effect = {
				clear_building_1_effects = yes
			}
			set_variable = { building_1 = REQUESTED_BUILDING }
			set_temp_variable = { time_left_to_calculate = CONSTRUCT_TIME}
			time_calculation_for_buildings = yes
			set_variable = { time_left_building_1 = time_left_to_calculate}
			add_to_array = {
				array = global.building_state_constructer_1
				value = THIS.id
			}
			if = {
				limit = {
					check_variable = {building_1 = unique_building_on_state}
				}
				set_state_flag = wonder_built_no_destroy_1
			}
		}else = {
			hidden_effect = {
				clear_building_2_effects = yes
			}
			set_variable = { building_2 = REQUESTED_BUILDING }
			set_temp_variable = { time_left_to_calculate = CONSTRUCT_TIME}
			time_calculation_for_buildings = yes
			set_variable = { time_left_building_2 = time_left_to_calculate}
			add_to_array = {
				array = global.building_state_constructer_2
				value = THIS.id
			}
			if = {
				limit = {
					check_variable = {building_2 = unique_building_on_state}
				}
				set_state_flag = wonder_built_no_destroy_2
			}
		}
	}
}
Add_building_to_slot_immediately = { ## THIS ADDS BUILDINGS FOR FREE AND IMMEDIATLY, STATE SCOPE
	custom_effect_tooltip = add_building_to_slot
	hidden_effect = {
		if = {
			limit = { ## TRIES TO BUILD IN 1st SLOT THEN IN SECOND, IF 2ND IS A WONDER BUILD IN FIRST INSTEAD
				NOT = {
					has_variable = building_1
				}
			}
			hidden_effect = {
				clear_building_1_effects = yes
			}
			set_variable = { building_1 = REQUESTED_BUILDING }
			set_temp_variable = {idea_token_passer = building_1}
			controller = {
				add_ideas = var:idea_token_passer
			}
			meta_effect = {
				text = {
					[BUILDING_NAME]_add_effect = yes
				}
				BUILDING_NAME = "[?building_1.GetTokenKey]"
			}
			if = {
				limit = {
					check_variable = {building_1 = unique_building_on_state}
				}
				set_state_flag = wonder_built_no_destroy_1
			}
		}else_if = {
			limit = {
				NOT = {
					has_state_flag = wonder_built_no_destroy_2
				}
			}
			hidden_effect = {
				clear_building_2_effects = yes
			}
			set_variable = { building_2 = REQUESTED_BUILDING }
			set_temp_variable = {idea_token_passer = building_2}
			controller = {
				add_ideas = var:idea_token_passer
			}
			meta_effect = {
				text = {
					[BUILDING_NAME]_add_effect = yes
				}
				BUILDING_NAME = "[?building_2.GetTokenKey]"
			}
			if = {
				limit = {
					check_variable = {building_2 = unique_building_on_state}
				}
				set_state_flag = wonder_built_no_destroy_2
			}
		}else = {
			hidden_effect = {
				clear_building_1_effects = yes
			}
			set_variable = { building_1 = REQUESTED_BUILDING }
			set_temp_variable = {idea_token_passer = building_1}
			controller = {
				add_ideas = var:idea_token_passer
			}
			meta_effect = {
				text = {
					[BUILDING_NAME]_add_effect = yes
				}
				BUILDING_NAME = "[?building_1.GetTokenKey]"
			}
			if = {
				limit = {
					check_variable = {building_1 = unique_building_on_state}
				}
				set_state_flag = wonder_built_no_destroy_1
			}
		}
	}
}
#### ADDING BUILDING FOR EXAMPLE IN FOCUS TREE -- SPECFIC STATE EXAMPLE
# 287 = {
# 	set_temp_variable = {REQUESTED_BUILDING = token:military_academy_2}
# 	Add_building_to_slot_immediately = yes
# }


#### ADDING BUILDING FOR EXAMPLE IN FOCUS TREE -- ANY EMPTY BUILDING STATE
# random_owned_state = {
# 	limit = {
# 		has_avaliable_building_slot = yes
# 	}
# 	set_temp_variable = {REQUESTED_BUILDING = token:military_academy_2}
# 	Add_building_to_slot_immediately = yes
# }

####################### UPGRADE MANAGER #######################, DESIGNED FOR DEVS, DO NOT USE THIS FOR WONDERS

## INPUT INTO THIS EFFECT WILL LOOK LIKE THIS
# set_temp_variable = {desired_building = token:arms_factory_1} --- I WANT A UPGRADE TO ARMS FACTORY LINE OF BUILDINGS
## building_upgrade = yes
## COUNTRY SCOPE

## You can also use state scope version of this, assigning this state to be upgraded/built. This ensures it does not build random buildings elsewhere in country. This effect looks like below
## 123 = {
##		set_temp_variable = {desired_building = token:arms_factory_1} --- I WANT A UPGRADE TO ARMS FACTORY LINE OF BUILDINGS
## 		building_upgrade_state_scope = yes
## }
##
##


building_upgrade_state_scope = {
	set_temp_variable = {desired_state_location = THIS.id}
	building_upgrade = yes
}

building_upgrade = { ## THIS EFFECT LEADS INTO STATE SCOPE, WE FIND A SUTIABLE STATE AND SCOPE INTO THE STATE TO ENACT LATER EFFECTS

	custom_effect_tooltip = building_upgrade_localisation

	hidden_effect = {



		if = {
			limit = {
				NOT = {
					has_variable = desired_state_location
				}
			}
			## FIND SUTIABLE STATE
			set_temp_variable = {desired_state_location = 0}
			set_temp_variable = {building_upgrade_previous_name = 0}
			building_upgrade_find_state_for_usage = yes
		}

		## Find building slot
		if = {
			limit = {
				NOT = {
					has_variable = building_upgrade_previous_name
				}
			}
			var:desired_state_location = { ## we grab the previous building name telling us if slot 1 or two 
				meta_effect = {
					text = {
						if = {
							limit = {
								set_temp_variable = {REQUESTED_BUILDING = building_1} ## find out if building 1 is the correct one
								is_the_building_[FACTORY_NAME]_building_chain = yes
							}
							
							set_temp_variable = {building_upgrade_previous_name = building_1}
							always = yes
						}else_if = {
							limit = {
								set_temp_variable = {REQUESTED_BUILDING = building_2} ## now building 2
								is_the_building_[FACTORY_NAME]_building_chain = yes
							}
							set_temp_variable = {building_upgrade_previous_name = building_2}
							always = yes
						}
					}
					FACTORY_NAME = "[This.get_building_upgrade_factory_name]"
				}	
			}
		}



		### Find correct building upgrade building
		set_temp_variable = {desired_building_upgrade_version = 0}
		building_upgrade_building_edge_cases =  yes ## EDGE CASES LEADS INTO A LATER SCOPE IF NOT TRUE, this is to present event to the player on what type of building they want
		if = {
			limit = {
				NOT = {
					has_country_flag =  edge_case_booleon
				}
			}
			meta_effect = {
				text = {
	
				## Building Upgrade 
					var:desired_state_location = {
						set_variable = { potential_building_holder_for_event = desired_building_upgrade_version }
						set_variable = { potential_time_left_building_holder_for_event = [FACTORY_NAME]_speed?global.[FACTORY_NAME]_global_speed}
						if = {
							limit = {
								check_variable = {building_upgrade_previous_name = building_1}
							}
							add_building_to_construct_slot_1 = yes
						}else = {
							add_building_to_construct_slot_2 = yes
						}
					}
				}
				FACTORY_NAME = "[?potential_building_holder_for_event.GetTokenKey]"
			}
		}
		
		log =  "[?building_upgrade_previous_name.GetTokenLocalizedKey]"
		log =  "[?potential_building_holder_for_event.GetTokenLocalizedKey]"

		log =  "[?building_upgrade_previous_name.GetTokenLocalizedKey]"

		clr_country_flag = edge_case_booleon
	}

}
building_upgrade_find_state_for_usage = {
	if = {
		limit = {
			any_owned_state = {
				meta_trigger = {
					text = {
						if = {
							limit = {
								set_temp_variable = {REQUESTED_BUILDING = building_1} ## find out if building 1 is the correct one
								is_the_building_[FACTORY_NAME]_building_chain = yes
							}
							
							set_temp_variable = {building_upgrade_previous_name = building_1}
							set_temp_variable = {temp_state_location = THIS.id}
							always = yes
						}else_if = {
							limit = {
								set_temp_variable = {REQUESTED_BUILDING = building_2} ## now building 2
								is_the_building_[FACTORY_NAME]_building_chain = yes
							}
							set_temp_variable = {building_upgrade_previous_name = building_2}
							set_temp_variable = {temp_state_location = THIS.id}
							always = yes
						}else = {
							always = no
						}
					}
					FACTORY_NAME = "[This.get_building_upgrade_factory_name]"
				}
			}
		}
		set_temp_variable = {desired_state_location = temp_state_location}
	}else = { ## ELSE BUILD RANDOM NEW BUILDING
		random_owned_state = {
			limit = {
				has_avaliable_building_slot = yes
			}
			if = {
				limit = {
					NOT =  {
						has_variable = building_2
					}
				}
				set_temp_variable = {building_upgrade_previous_name = building_2}
			}else = {
				set_temp_variable = {building_upgrade_previous_name = building_1}
			}
			set_temp_variable = {desired_state_location = THIS.id}
		}
	}
}
building_upgrade_building_edge_cases = {
	### THIS EFFECT IS TO PRESENT TO THE USER A EVENT ALLOWING THEM TO PICK UPGRADE FOR THEIR BUILDINGS
	# IMPLEMENTS SIMPLE IF STATEMENTS (not that we can do anything else, rip actual programming languages) TO FIND THE CORRECT BUILDING PATH
	if = {
		limit = {
			check_variable = {building_upgrade_previous_name = medium_shipyard_1}
		}
		set_variable = {edge_case_building = medium_shipyard_1 }
		set_variable = {edge_case_building_option_1 = medium_shipyard_2 }
		set_variable = {edge_case_building_option_2 = heavy_shipyard_1 }
		set_country_flag = edge_case_booleon
	}
	if = {
		limit = {
			check_variable = {building_upgrade_previous_name = light_shipyard_1}
		}
		set_variable = {edge_case_building = light_shipyard_1 }
		set_variable = {edge_case_building_option_1 = light_shipyard_2 }
		set_variable = {edge_case_building_option_2 = medium_shipyard_1 }
		set_country_flag = edge_case_booleon
	}
	if = {
		limit = {
			check_variable = {building_upgrade_previous_name = starfighter_factory_1}
		}
		set_variable = {edge_case_building = starfighter_factory_1 }
		set_variable = {edge_case_building_option_1 = starfighter_factory_1 }
		set_variable = {edge_case_building_option_2 = starbomber_factory_1 }
		set_country_flag = edge_case_booleon
	}
	if = {
		limit = {
			check_variable = {building_upgrade_previous_name = arms_factory_1}
		}
		set_variable = {edge_case_building = arms_factory_1 }
		set_variable = {edge_case_building_option_1 = vehicle_factory }
		set_variable = {edge_case_building_option_2 = soft_arms_factory_1 }
		set_country_flag = edge_case_booleon
	}
	if = {
		limit = {
			check_variable = {building_upgrade_previous_name = training_facilities_1}
		}
		set_variable = {edge_case_building = training_facilities_1 }
		set_variable = {edge_case_building_option_1 = special_forces_training_facilities_1 }
		set_variable = {edge_case_building_option_2 = military_bootcamp_1 }
		set_country_flag = edge_case_booleon
	}
	if = {
		limit = {
			check_variable = {building_upgrade_previous_name = military_academy_1}
		}
		set_variable = {edge_case_building = military_academy_1 }
		set_variable = {edge_case_building_option_1 = military_academy_2 }
		set_variable = {edge_case_building_option_2 = naval_academy_1 }
		set_country_flag = edge_case_booleon
	}
	if = {
		limit = {
			check_variable = {building_upgrade_previous_name = naval_academy_1}
		}
		set_variable = {edge_case_building = naval_academy_1 }
		set_variable = {edge_case_building_option_1 = starfighter_academy_1 }
		set_variable = {edge_case_building_option_2 = admiralty_academy_1 }
		set_country_flag = edge_case_booleon
	}
	if = {
		limit = {
			NOT = {
				has_country_flag =  edge_case_booleon
			}
		}
		building_upgrade_finder_of_type_of_building = yes
	}
}
building_upgrade_finder_of_type_of_building = {
	if = {
		limit = {
			check_variable = {desired_building = token:arms_factory_1}
			or = {
				check_variable = {building_upgrade_previous_name = token:arms_factory_1}
				check_variable = {building_upgrade_previous_name = token:soft_arms_factory_1}
			}
		}
		set_temp_variable = {upgrade_version_1_of_building = token:arms_factory_1 }
		set_temp_variable = {upgrade_version_2_of_building = token:soft_arms_factory_1 }
		set_temp_variable = {upgrade_version_3_of_building = token:soft_arms_factory_2 }
	}
	if = {
		limit = {
			check_variable = {desired_building = token:arms_factory_1}
			check_variable = {building_upgrade_previous_name = token:tank_factory_1}
		}
		set_temp_variable = {upgrade_version_1_of_building = token:arms_factory_1 }
		set_temp_variable = {upgrade_version_2_of_building = token:tank_factory_1 }
		set_temp_variable = {upgrade_version_3_of_building = token:tank_factory_2 }
	}
	if = {
		limit = {
			check_variable = {desired_building = token:starfighter_factory_1}
			or = {
				check_variable = {building_upgrade_previous_name = token:starfighter_factory_1}
				check_variable = {building_upgrade_previous_name = token:starfighter_factory_2}
			}
		}
		set_temp_variable = {upgrade_version_1_of_building = token:starfighter_factory_1 }
		set_temp_variable = {upgrade_version_2_of_building = token:starfighter_factory_2 }
		set_temp_variable = {upgrade_version_3_of_building = token:starfighter_factory_3 }
	}
	if = {
		limit = {
			check_variable = {desired_building = token:starfighter_factory_1}
			check_variable = {building_upgrade_previous_name = token:starbomber_factory_1}
		}
		set_temp_variable = {upgrade_version_1_of_building = token:starfighter_factory_1 }
		set_temp_variable = {upgrade_version_2_of_building = token:starbomber_factory_1 }
		set_temp_variable = {upgrade_version_3_of_building = token:starbomber_factory_2 }
	}
	if = {
		limit = {
			check_variable = {desired_building = token:light_shipyard_1}
			or = {
				check_variable = {building_upgrade_previous_name = token:light_shipyard_1}
				check_variable = {building_upgrade_previous_name = token:light_shipyard_2}
			}
		}
		set_temp_variable = {upgrade_version_1_of_building = token:light_shipyard_1 }
		set_temp_variable = {upgrade_version_2_of_building = token:light_shipyard_2 }
		set_temp_variable = {upgrade_version_3_of_building = token:light_shipyard_3 }
	}
	if = {
		limit = {
			check_variable = {desired_building = token:training_facilities_1}
			or = {
				check_variable = {building_upgrade_previous_name = token:training_facilities_1}
				check_variable = {building_upgrade_previous_name = token:military_bootcamp_1}
				check_variable = {building_upgrade_previous_name = token:military_bootcamp_2}
			}
		}
		set_temp_variable = {upgrade_version_1_of_building = token:training_facilities_1 }
		set_temp_variable = {upgrade_version_2_of_building = token:military_bootcamp_1 }
		set_temp_variable = {upgrade_version_3_of_building = token:military_bootcamp_2 }
	}
	if = {
		limit = {
			check_variable = {desired_building = token:training_facilities_1}
			check_variable = {building_upgrade_previous_name = token:special_forces_training_facilities_1}
		}
		set_temp_variable = {upgrade_version_1_of_building = token:training_facilities_1 }
		set_temp_variable = {upgrade_version_2_of_building = token:special_forces_training_facilities_1 }
		set_temp_variable = {upgrade_version_3_of_building = token:special_forces_training_facilities_2 }
	}
	if = {
		limit = {
			check_variable = {desired_building = token:intelligence_center_1}
			or = {
			check_variable = {building_upgrade_previous_name = token:intelligence_center_1}
			check_variable = {building_upgrade_previous_name = token:sensor_array_1}
			}
		}
		set_temp_variable = {upgrade_version_1_of_building = token:intelligence_center_1 }
		set_temp_variable = {upgrade_version_2_of_building = token:sensor_array_1 }
		set_temp_variable = {upgrade_version_3_of_building = token:sensor_array_2 }
	}
	if = {
		limit = {
			check_variable = {desired_building = token:intelligence_center_1}
			check_variable = {building_upgrade_previous_name = token:spy_academy_1}
		}
		set_temp_variable = {upgrade_version_1_of_building = token:intelligence_center_1 }
		set_temp_variable = {upgrade_version_2_of_building = token:spy_academy_1 }
		set_temp_variable = {upgrade_version_3_of_building = token:spy_academy_2 }
	}
	if = {
		limit = {
			check_variable = {desired_building = token:research_center_1}
			or = {
				check_variable = {building_upgrade_previous_name = token:research_center_1}
				check_variable = {building_upgrade_previous_name = token:research_center_2}
			}
		}
		set_temp_variable = {upgrade_version_1_of_building = token:research_center_1 }
		set_temp_variable = {upgrade_version_2_of_building = token:research_center_2 }
		set_temp_variable = {upgrade_version_3_of_building = token:research_center_3 }
	}
	if = {
		limit = {
			check_variable = {desired_building = token:military_academy_1}
			or = {
			check_variable = {building_upgrade_previous_name = token:military_academy_1}
			check_variable = {building_upgrade_previous_name = token:military_academy_2}
			}
		}
		set_temp_variable = {upgrade_version_1_of_building = token:military_academy_1 }
		set_temp_variable = {upgrade_version_2_of_building = token:military_academy_2 }
		set_temp_variable = {upgrade_version_3_of_building = token:military_academy_3 }
	}
	if = {
		limit = {
			check_variable = {desired_building = token:taxation_center_1}
			or = {
				check_variable = {building_upgrade_previous_name = token:taxation_center_1}
				check_variable = {building_upgrade_previous_name = token:taxation_center_2}
			}
		}
		set_temp_variable = {upgrade_version_1_of_building = token:taxation_center_1 }
		set_temp_variable = {upgrade_version_2_of_building = token:taxation_center_2 }
		set_temp_variable = {upgrade_version_3_of_building = token:taxation_center_3 }
	}
	if = {
		limit = {
			check_variable = {desired_building = token:homestead_1}
			or = {
			check_variable = {building_upgrade_previous_name = token:homestead_1}
			check_variable = {building_upgrade_previous_name = token:homestead_2}
			}
		}
		set_temp_variable = {upgrade_version_1_of_building = token:homestead_1 }
		set_temp_variable = {upgrade_version_2_of_building = token:homestead_2 }
		set_temp_variable = {upgrade_version_3_of_building = token:homestead_3 }
	}
	if = {
		limit = {
			check_variable = {desired_building = token:corporate_office_1}
			or = {
			check_variable = {building_upgrade_previous_name = token:corporate_office_1}
			check_variable = {building_upgrade_previous_name = token:corporate_office_2}
			}
		}
		set_temp_variable = {upgrade_version_1_of_building = token:corporate_office_1 }
		set_temp_variable = {upgrade_version_2_of_building = token:corporate_office_2 }
		set_temp_variable = {upgrade_version_3_of_building = token:corporate_office_3 }
	}
	if = {
		limit = {
			check_variable = {desired_building = token:spice_market_1}
			or = {
			check_variable = {building_upgrade_previous_name = token:spice_market_1}
			check_variable = {building_upgrade_previous_name = token:spice_market_2}
			}
		}
		set_temp_variable = {upgrade_version_1_of_building = token:spice_market_1 }
		set_temp_variable = {upgrade_version_2_of_building = token:spice_market_2 }
		set_temp_variable = {upgrade_version_3_of_building = token:spice_market_3 }
	}
	if = {
		limit = {
			check_variable = {desired_building = token:fuel_refinery_1}
			or = {
			check_variable = {building_upgrade_previous_name = token:fuel_refinery_1}
			check_variable = {building_upgrade_previous_name = token:fuel_refinery_2}
			}
		}
		set_temp_variable = {upgrade_version_1_of_building = token:fuel_refinery_1 }
		set_temp_variable = {upgrade_version_2_of_building = token:fuel_refinery_2 }
		set_temp_variable = {upgrade_version_3_of_building = token:fuel_refinery_3 }
	}
	if = {
		limit = {
			check_variable = {desired_building = token:anti_air_1}
			or = {
			check_variable = {building_upgrade_previous_name = token:anti_air_1}
			check_variable = {building_upgrade_previous_name = token:anti_air_2}
			}
		}
		set_temp_variable = {upgrade_version_1_of_building = token:anti_air_1 }
		set_temp_variable = {upgrade_version_2_of_building = token:anti_air_2 }
		set_temp_variable = {upgrade_version_3_of_building = token:anti_air_3 }
	}
	if = {
		limit = {
			check_variable = {desired_building = token:trade_complex_1}
			or = {
			check_variable = {building_upgrade_previous_name = token:trade_complex_1}
			check_variable = {building_upgrade_previous_name = token:trade_complex_2}
			}
		}
		set_temp_variable = {upgrade_version_1_of_building = token:trade_complex_1 }
		set_temp_variable = {upgrade_version_2_of_building = token:trade_complex_2 }
		set_temp_variable = {upgrade_version_3_of_building = token:trade_complex_3 }
	}

	### FIND THE UPGRADE VERSIon, IF ONE UPGRADE TO TWO, IF TWO UPGRADE TO THREE. IF NOT FOUND REVERT TO FIRST BUILDING
	if = {
		limit = {
			NOT = {
				has_variable = upgrade_version_1_of_building
			}
		}
		set_temp_variable = {desired_building_upgrade_version = desired_building}
	}else = {
		if = {
			limit = {
				check_variable = {building_upgrade_previous_name = upgrade_version_1_of_building}
			}

			set_temp_variable = {desired_building_upgrade_version = upgrade_version_2_of_building}
		}else_if = {
			limit = {
				check_variable = {building_upgrade_previous_name = upgrade_version_2_of_building}
			}
			set_temp_variable = {desired_building_upgrade_version = upgrade_version_3_of_building}
		}
	}
}

clear_building_1_effects = { ## USE THIS FOR GETTING RID OF A BUILDING
	custom_effect_tooltip = clear_building_off_slot_1
	hidden_effect = {
		if = {
			limit = { ## FIND IF ANY STATE ALREADY HAS BUILDING AS NOT TO REMOVE IDEA FROM BUILDINGS THAT ARE THERE
				NOT ={
					controller = {
						any_controlled_state = {
							has_variable = building_name_passer
						}
					}
				}
			}
			controller = {
				remove_ideas = var:building_name_passer
			}
		}
		meta_effect = {
			text = {
				[BUILDING_NAME]_remove_effect = yes
			}
			BUILDING_NAME = "[?building_1.GetTokenKey]"
		}
		clear_variable = building_1
		clr_state_flag = tile_blocker_building_1
	}
}
clear_building_2_effects = { ## USE THIS FOR GETTING RID OF A BUILDING
	custom_effect_tooltip = clear_building_off_slot_2
	hidden_effect = {
		if = {
			limit = { ## FIND IF ANY STATE ALREADY HAS BUILDING AS NOT TO REMOVE IDEA FROM BUILDINGS THAT ARE THERE
				NOT ={
					controller = {
						any_controlled_state = {
							has_variable = building_name_passer
						}
					}
				}
			}
			controller = {
				remove_ideas = var:building_name_passer
			}
		}
		meta_effect = {
			text = {
				[BUILDING_NAME]_remove_effect = yes
			}
			BUILDING_NAME = "[?building_2.GetTokenKey]"
		}
		clear_variable = building_2
		clr_state_flag = tile_blocker_building_2
	}
}

add_building_to_construct_slot_1 = {
	var:state_located_for_building_changes = {
		hidden_effect = {
			clear_building_1_effects = yes
		}
		set_variable = { building_1 = potential_building_holder_for_event }
		set_temp_variable = {time_left_to_calculate = potential_time_left_building_holder_for_event}

		time_calculation_for_buildings = yes
		set_variable = { time_left_building_1 = time_left_to_calculate}
		add_to_array = {
			array = global.building_state_constructer_1
			value = THIS.id
		}
	}
	ROOT = {
		subtract_from_variable = { currency_amount^primary_currency = potential_cost_holder_for_event }
	}
}
add_building_to_construct_slot_2 = {
	var:state_located_for_building_changes = {
		hidden_effect = {
			clear_building_2_effects = yes
		}
		set_variable = { building_2 = potential_building_holder_for_event }
		set_temp_variable = {time_left_to_calculate = potential_time_left_building_holder_for_event}

		time_calculation_for_buildings = yes
		set_variable = { time_left_building_2 = time_left_to_calculate}
		add_to_array = {
			array = global.building_state_constructer_2
			value = THIS.id
		}
	}
	ROOT = {
		subtract_from_variable = { currency_amount^primary_currency = potential_cost_holder_for_event }
	}
}

sends_event_for_replacement_building = {
	if = {
		limit = {
			ROOT = {
				has_country_flag = building_1_open
			}
			has_variable = building_1
		}
		ROOT = {
			country_event = BUILDING.1
		}
		### EVENT FOR BUILDING 1 CHANGE
	}else_if = {
		limit = {
			ROOT = {
				has_country_flag = building_2_open
			}
			has_variable = building_2
		}
		ROOT = {
			country_event = BUILDING.2
		}
		### EVENT FOR BUILDING 2 CHANGE
	}
}
sends_event_for_replacement_building_unique_building = {
	if = {
		limit = {
			ROOT = {
				has_country_flag = building_1_open
			}
			has_variable = building_1
		}
		ROOT = {
			country_event = BUILDING.3
		}
		### EVENT FOR BUILDING 1 CHANGE
	}else_if = {
		limit = {
			has_country_flag = building_2_open
			has_variable = building_2
		}
		ROOT = {
			country_event = BUILDING.4
		}
		### EVENT FOR BUILDING 2 CHANGE
	}
}


time_calculation_for_buildings = {
	set_temp_variable = {speed_multiplier_factor = modifier@production_speed_buildings_factor}
	add_to_temp_variable = {speed_multiplier_factor = modifier@consumer_goods_factor}
	add_to_temp_variable = {speed_multiplier_factor = 1}

	if = {
		limit  = {
			has_variable = potential_building_holder_for_event
		}
		set_temp_variable = { REQUESTED_BUILDING = potential_building_holder_for_event}
	}

	divide_temp_variable = {time_left_to_calculate = speed_multiplier_factor}
}

rainbow_gems_add_effect = {
	add_to_variable = { building_income = 2}
}
rainbow_gems_2_add_effect = {
	add_to_variable = { building_income = 4}
}
rainbow_gems_3_add_effect = {
	add_to_variable = { building_income = 6}
}

rainbow_gems_remove_effect = {
	subtract_from_variable = { building_income = 2}
}
rainbow_gems_2_remove_effect = {
	subtract_from_variable = { building_income = 4}
}
rainbow_gems_3_remove_effect = {
	subtract_from_variable = { building_income = 6}
}

light_shipyard_1_add_effect = {
	add_building_construction = { type = dockyard level = 5 instant_build = yes}
	add_to_variable = {root.total_naval_corporate_shipyards = 1}
}
light_shipyard_1_remove_effect = {
	add_building_construction = { type = dockyard level = -5 instant_build = yes}
	add_to_variable = {root.total_naval_corporate_shipyards = -1}
}
light_shipyard_2_add_effect = {
	add_building_construction = { type = dockyard level = 10 instant_build = yes}
	add_to_variable = {root.total_naval_corporate_shipyards = 3}
}
light_shipyard_2_remove_effect = {
	add_building_construction = { type = dockyard level = -10 instant_build = yes}
	add_to_variable = {root.total_naval_corporate_shipyards = -3}
}
light_shipyard_3_add_effect = {
	add_building_construction = { type = dockyard level = 15 instant_build = yes}
	add_to_variable = {root.total_naval_corporate_shipyards = 6}
}
light_shipyard_3_remove_effect = {
	add_building_construction = { type = dockyard level = -15 instant_build = yes}
	add_to_variable = {root.total_naval_corporate_shipyards = -6}
}
medium_shipyard_1_add_effect = {
  	add_building_construction = { type = dockyard level = 10 instant_build = yes}
	  add_to_variable = {root.total_naval_corporate_shipyards = 3}
}
medium_shipyard_1_remove_effect = {
  	add_building_construction = { type = dockyard level = -10 instant_build = yes}
	add_to_variable = {root.total_naval_corporate_shipyards = -3}
}
medium_shipyard_2_add_effect = {
  	add_building_construction = { type = dockyard level = 15 instant_build = yes}
	add_to_variable = {root.total_naval_corporate_shipyards = 6}
}
medium_shipyard_2_remove_effect = {
  	add_building_construction = { type = dockyard level = -15 instant_build = yes}
	add_to_variable = {root.total_naval_corporate_shipyards = -6}
}
heavy_shipyard_1_add_effect = {
  	add_building_construction = { type = dockyard level = 15 instant_build = yes}
	add_to_variable = {root.total_naval_corporate_shipyards = 6}
}
heavy_shipyard_1_remove_effect = {
  	add_building_construction = { type = dockyard level = -15 instant_build = yes}
	add_to_variable = {root.total_naval_corporate_shipyards = -6}
}
arms_factory_1_add_effect = {
  	add_building_construction = { type = arms_factory level = 5 instant_build = yes}
	add_to_variable = {root.total_land_corporate_shipyards = 1}
}
arms_factory_1_remove_effect = {
  	add_building_construction = { type = arms_factory level = -5 instant_build = yes}
	add_to_variable = {root.total_land_corporate_shipyards = -1}
}
soft_arms_factory_1_add_effect = {
	add_building_construction = { type = arms_factory level = 10 instant_build = yes}
	add_to_variable = {root.total_land_corporate_shipyards = 3}
}
soft_arms_factory_1_add_effect = {
	add_building_construction = { type = arms_factory level = -10 instant_build = yes}
	add_to_variable = {root.total_land_corporate_shipyards = -3}
}
soft_arms_factory_2_add_effect = {
	add_building_construction = { type = arms_factory level = 15 instant_build = yes}
	add_to_variable = {root.total_land_corporate_shipyards = 6}
}
soft_arms_factory_2_add_effect = {
  	add_building_construction = { type = arms_factory level = -15 instant_build = yes}
	add_to_variable = {root.total_land_corporate_shipyards = -6}
}
tank_factory_1_add_effect = {
  	add_building_construction = { type = arms_factory level = 10 instant_build = yes}
	add_to_variable = {root.total_land_corporate_shipyards = 3}
}
tank_factory_1_add_effect = {
  	add_building_construction = { type = arms_factory level = -10 instant_build = yes}
	add_to_variable = {root.total_land_corporate_shipyards = -3}
}
tank_factory_2_add_effect = {
  	add_building_construction = { type = arms_factory level = 15 instant_build = yes}
	add_to_variable = {root.total_land_corporate_shipyards = 6}
}
tank_factory_2_add_effect = {
  	add_building_construction = { type = arms_factory level = -15 instant_build = yes}
	add_to_variable = {root.total_land_corporate_shipyards = -6}
}
starfighter_factory_1_add_effect = {
  	add_building_construction = { type = arms_factory level = -5 instant_build = yes}
	add_to_variable = {root.total_air_corporate_shipyards = 1}
}
starfighter_factory_1_remove_effect = {
  	add_building_construction = { type = arms_factory level = -5 instant_build = yes}
	add_to_variable = {root.total_air_corporate_shipyards = -1}
}
starfighter_factory_2_add_effect = {
  	add_building_construction = { type = arms_factory level = 10 instant_build = yes}
	add_to_variable = {root.total_air_corporate_shipyards = 3}
}
starfighter_factory_2_remove_effect = {
  	add_building_construction = { type = arms_factory level = -10 instant_build = yes}
	add_to_variable = {root.total_air_corporate_shipyards = -3}
}
starfighter_factory_3_add_effect = {
  	add_building_construction = { type = arms_factory level = 15 instant_build = yes}
	add_to_variable = {root.total_air_corporate_shipyards = 6}
}
starfighter_factory_3_remove_effect = {
  	add_building_construction = { type = arms_factory level = -15 instant_build = yes}
	add_to_variable = {root.total_air_corporate_shipyards = -6}
}
starbomber_factory_1_add_effect = {
  	add_building_construction = { type = arms_factory level = 10 instant_build = yes}
	add_to_variable = {root.total_air_corporate_shipyards = 3}
}
starbomber_factory_1_remove_effect = {
  	add_building_construction = { type = arms_factory level = -10 instant_build = yes}
	add_to_variable = {root.total_air_corporate_shipyards = -3}
}
starbomber_factory_2_add_effect = {
  	add_building_construction = { type = arms_factory level = 15 instant_build = yes}
	add_to_variable = {root.total_air_corporate_shipyards = 6}
}
starbomber_factory_2_remove_effect = {
  	add_building_construction = { type = arms_factory level = -15 instant_build = yes}
	add_to_variable = {root.total_air_corporate_shipyards = -6}
}
intelligence_center_1_add_effect = {
  	add_building_construction = { type = radar_station level = 1 instant_build = yes}
}
intelligence_center_1_remove_effect = {
  	add_building_construction = { type = radar_station level = -1 instant_build = yes}
}
sensor_array_1_add_effect = {
  	add_building_construction = { type = radar_station level = 2 instant_build = yes}
}
sensor_array_1_remove_effect = {
  	add_building_construction = { type = radar_station level = -2 instant_build = yes}
}
sensor_array_2_add_effect = {
  	add_building_construction = { type = radar_station level = 4 instant_build = yes}
}
sensor_array_2_remove_effect = {
  	add_building_construction = { type = radar_station level = -4 instant_build = yes}
}
anti_air_1_add_effect = {
	add_building_construction = { type = anti_air_building level = 1 instant_build = yes}
	set_building_level = {
		type = coastal_bunker
		level = 1
		province = {
			all_provinces = yes
			limit_to_coastal = yes
		}
	}
}
anti_air_1_remove_effect = {
	add_building_construction = { type = anti_air_building level = -1 instant_build = yes}
	set_building_level = {
		type = coastal_bunker
		level = 0
		province = {
			all_provinces = yes
			limit_to_coastal = yes
		}
	}
}
anti_air_2_add_effect = {
	add_building_construction = { type = anti_air_building level = 2 instant_build = yes}
	set_building_level = {
		type = coastal_bunker
		level = 2
		province = {
			all_provinces = yes
			limit_to_coastal = yes
		}
	}
}
anti_air_2_remove_effect = {
	add_building_construction = { type = anti_air_building level = -2 instant_build = yes}
	set_building_level = {
		type = coastal_bunker
		level = 0
		province = {
			all_provinces = yes
			limit_to_coastal = yes
		}
	}
}
anti_air_3_add_effect = {
	add_building_construction = { type = anti_air_building level = 4 instant_build = yes}
	set_building_level = {
		type = coastal_bunker
		level = 3
		province = {
			all_provinces = yes
			limit_to_coastal = yes
		}
	}
}
anti_air_3_remove_effect = {
	add_building_construction = { type = anti_air_building level = -4 instant_build = yes}
	set_building_level = {
		type = coastal_bunker
		level = 0
		province = {
			all_provinces = yes
			limit_to_coastal = yes
		}
	}
}
corporate_office_1_add_effect = {
	controller = {
		add_to_variable = { building_income = 0.5}
	}
}
corporate_office_1_remove_effect = {
	controller = {
		add_to_variable = { building_income = -0.5}
	}
}
corporate_office_2_add_effect = {
	controller = {
		add_to_variable = { building_income = 1.0 }
	}
}
corporate_office_2_remove_effect = {
	controller = {
		add_to_variable = { building_income = -1.0}
	}
}
corporate_office_3_add_effect = {
	controller = {
		add_to_variable = { building_income = 2.0}
	}
}
corporate_office_3_remove_effect = {
	controller = {
		add_to_variable = { building_income = -2.0}
	}
}
####################
kashyyyk_tree_add_effect = {
	controller = {
		add_to_variable = { building_income = 0.45}
	}
	add_resource = {
		type = steel
		amount = 4
		state = THIS
	}
	add_resource = {
		type = oil
		amount = 3
		state = THIS
	}
	add_building_construction = { type = arms_factory level = 4 instant_build = yes}
}
kashyyyk_tree_1_remove_effect = {
	controller = {
		add_to_variable = { building_income = -0.45}
	}
	add_resource = {
		type = steel
		amount = -4
		state = THIS
	}
	add_resource = {
		type = oil
		amount = -3
		state = THIS
	}
	add_building_construction = { type = arms_factory level = -4 instant_build = yes}
}
kashyyyk_tree_2_add_effect = {
	controller = {
		add_to_variable = { building_income = 1.5 }
	}
	add_resource = {
		type = steel
		amount = 7
		state = THIS
	}
	add_resource = {
		type = oil
		amount = 5
		state = THIS
	}
	add_building_construction = { type = arms_factory level = 8 instant_build = yes}
}
kashyyyk_tree_2_remove_effect = {
	controller = {
		add_to_variable = { building_income = -1.5}
	}
	add_resource = {
		type = steel
		amount = -7
		state = THIS
	}
	add_resource = {
		type = oil
		amount = -5
		state = THIS
	}
	add_building_construction = { type = arms_factory level = -8 instant_build = yes}
}
kashyyyk_tree_3_add_effect = {
	controller = {
		add_to_variable = { building_income = 2.0}
	}
	add_resource = {
		type = steel
		amount = 12
		state = THIS
	}
	add_resource = {
		type = oil
		amount = 8
		state = THIS
	}
	add_building_construction = { type = arms_factory level = 15 instant_build = yes}
}
kashyyyk_tree_3_remove_effect = {
	controller = {
		add_to_variable = { building_income = -2.0}
	}
	add_resource = {
		type = steel
		amount = -12
		state = THIS
	}
	add_resource = {
		type = oil
		amount = -8
		state = THIS
	}
	add_building_construction = { type = arms_factory level = -15 instant_build = yes}
}
############## Secret Emp Base ######################
secret_imperial_base_man_add_effect = {

	add_resource = {
		type = steel
		amount = 4
		state = THIS
	}
	add_resource = {
		type = oil
		amount = 3
		state = THIS
	}
	add_building_construction = { type = arms_factory level = 6 instant_build = yes}
}
secret_imperial_base_man_1_remove_effect = {

	add_resource = {
		type = steel
		amount = -4
		state = THIS
	}
	add_resource = {
		type = oil
		amount = -3
		state = THIS
	}
	add_building_construction = { type = arms_factory level = -6 instant_build = yes}
}
secret_imperial_base_man_2_add_effect = {

	add_resource = {
		type = steel
		amount = 7
		state = THIS
	}
	add_resource = {
		type = oil
		amount = 5
		state = THIS
	}
	add_building_construction = { type = arms_factory level = 10 instant_build = yes}
}
secret_imperial_base_man_2_remove_effect = {

	add_resource = {
		type = steel
		amount = -7
		state = THIS
	}
	add_resource = {
		type = oil
		amount = -5
		state = THIS
	}
	add_building_construction = { type = arms_factory level = -10 instant_build = yes}
}
secret_imperial_base_man_3_add_effect = {

	add_resource = {
		type = steel
		amount = 12
		state = THIS
	}
	add_resource = {
		type = oil
		amount = 8
		state = THIS
	}
	add_building_construction = { type = arms_factory level = 15 instant_build = yes}
}
secret_imperial_base_man_3_remove_effect = {

	add_resource = {
		type = steel
		amount = -12
		state = THIS
	}
	add_resource = {
		type = oil
		amount = -8
		state = THIS
	}
	add_building_construction = { type = arms_factory level = -15 instant_build = yes}
}

recycle_center_1_add_effect = {
		add_resource = {
			type = oil
			amount = 7
			state = THIS
		}
		add_resource = {
			type = aluminium
			amount = 7
			state = THIS
		}
		add_resource = {
			type = chromium
			amount = 7
			state = THIS
		}
		add_resource = {
			type = tungsten
			amount = 7
			state = THIS
		}
		add_resource = {
			type = steel
			amount = 7
			state = THIS
		}
}
recycle_center_1_remove_effect = {
		add_resource = {
			type = oil
			amount = -7
			state = THIS
		}
		add_resource = {
			type = aluminium
			amount = -7
			state = THIS
		}
		add_resource = {
			type = chromium
			amount = -7
			state = THIS
		}
		add_resource = {
			type = tungsten
			amount = -7
			state = THIS
		}
		add_resource = {
			type = steel
			amount = -7
			state = THIS
		}
}
recycle_center_2_add_effect = {
		add_resource = {
			type = oil
			amount = 14
			state = THIS
		}
		add_resource = {
			type = aluminium
			amount = 14
			state = THIS
		}
		add_resource = {
			type = chromium
			amount = 14
			state = THIS
		}
		add_resource = {
			type = tungsten
			amount = 14
			state = THIS
		}
		add_resource = {
			type = steel
			amount = 14
			state = THIS
		}
}
recycle_center_2_remove_effect = {
		add_resource = {
			type = oil
			amount = -14
			state = THIS
		}
		add_resource = {
			type = aluminium
			amount = -14
			state = THIS
		}
		add_resource = {
			type = chromium
			amount = -14
			state = THIS
		}
		add_resource = {
			type = tungsten
			amount = -14
			state = THIS
		}
		add_resource = {
			type = steel
			amount = -14
			state = THIS
		}
}
recycle_center_3_add_effect = {
		add_resource = {
			type = oil
			amount = 25
			state = THIS
		}
		add_resource = {
			type = aluminium
			amount = 25
			state = THIS
		}
		add_resource = {
			type = chromium
			amount = 25
			state = THIS
		}
		add_resource = {
			type = tungsten
			amount = 25
			state = THIS
		}
		add_resource = {
			type = steel
			amount = 25
			state = THIS
	}
}
recycle_center_3_remove_effect = {
	add_resource = {
		type = oil
		amount = -25
		state = THIS
	}
	add_resource = {
		type = aluminium
		amount = -25
		state = THIS
	}
	add_resource = {
		type = chromium
		amount = -25
		state = THIS
	}
	add_resource = {
		type = tungsten
		amount = -25
		state = THIS
	}
	add_resource = {
		type = steel
		amount = -25
		state = THIS
	}
}
spice_market_1_add_effect = {
	add_resource = {
		type = rubber
		amount = 5
		state = THIS
	}
}
spice_market_1_remove_effect = {
	add_resource = {
		type = rubber
		amount = -5
		state = THIS
	}
}
spice_market_2_add_effect = {
	add_resource = {
		type = rubber
		amount = 10
		state = THIS
	}
}
spice_market_2_remove_effect = {
	add_resource = {
		type = rubber
		amount = -10
		state = THIS
	}
}
spice_market_3_add_effect = {
	add_resource = {
		type = rubber
		amount = 15
		state = THIS
	}
}
spice_market_3_remove_effect = {
	add_resource = {
		type = rubber
		amount = -15
		state = THIS
	}
}
trade_complex_1_add_effect = {
	add_building_construction = { type = industrial_complex level = -5 instant_build = yes}
}
trade_complex_1_remove_effect = {
	add_building_construction = { type = industrial_complex level = -5 instant_build = yes}
}
trade_complex_2_add_effect = {
	add_building_construction = { type = industrial_complex level = 10 instant_build = yes}
}
trade_complex_2_remove_effect = {
	add_building_construction = { type = industrial_complex level = -10 instant_build = yes}
}
trade_complex_3_add_effect = {
	add_building_construction = { type = industrial_complex level = 15 instant_build = yes}
}
trade_complex_3_remove_effect = {
	add_building_construction = { type = industrial_complex level = -15 instant_build = yes}
}
fuel_refinery_1_add_effect = {
	add_resource = {
		type = oil
		amount = 5
		state = THIS
	}
	add_building_construction = { type = fuel_silo level = 2 instant_build = yes}
	add_building_construction = { type = synthetic_refinery level = 1 instant_build = yes}
}
fuel_refinery_1_remove_effect = {
	add_resource = {
		type = oil
		amount = -5
		state = THIS
	}
	add_building_construction = { type = fuel_silo level = -2 instant_build = yes}
	add_building_construction = { type = synthetic_refinery level = -1 instant_build = yes}
}
fuel_refinery_2_add_effect = {
	add_resource = {
		type = oil
		amount = 14
		state = THIS
	}
	add_building_construction = { type = fuel_silo level = 4 instant_build = yes}
	add_building_construction = { type = synthetic_refinery level = 3 instant_build = yes}
}
fuel_refinery_2_remove_effect = {
	add_resource = {
		type = oil
		amount = -14
		state = THIS
	}
	add_building_construction = { type = fuel_silo level = -4 instant_build = yes}
	add_building_construction = { type = synthetic_refinery level = -3 instant_build = yes}
}
fuel_refinery_3_add_effect = {
	add_resource = {
		type = oil
		amount = 25
		state = THIS
	}
	add_building_construction = { type = fuel_silo level = 7 instant_build = yes}
	add_building_construction = { type = synthetic_refinery level = 6 instant_build = yes}
}
fuel_refinery_3_remove_effect = {
	add_resource = {
		type = oil
		amount = -25
		state = THIS
	}
	add_building_construction = { type = fuel_silo level = -7 instant_build = yes}
	add_building_construction = { type = synthetic_refinery level = -6 instant_build = yes}
}




##### UNIQUE BUILDINGS #####


#### Example format of unique building
# example_building_add_effect = { - says to the code this is what happens when the building is built for the first time. I.e. adding resources to the state
	#add_resource = {
	#	type = rubber
	#	amount = 10
	#	state = THIS
	#}
#}
# example_building_remove_effect = { - says to the code this is what happens when the building is deconstructed. ONLY DECONSTRUCTED NOT OWNERSHIP CHANGING
	#add_resource = {
	#	type = rubber
	#	amount = -10
	#	state = THIS
	#}
#}

## Subsequent Levels have a 2, 3 before add and removal effect like so

# example_building_2_add_effect = { - says to the code this is what happens when the building is built for the first time. I.e. adding resources to the state
	#add_resource = {
	#	type = rubber
	#	amount = 10
	#	state = THIS
	#}
#}
# example_building_2_remove_effect = { - says to the code this is what happens when the building is deconstructed. ONLY DECONSTRUCTED NOT OWNERSHIP CHANGING
	#add_resource = {
	#	type = rubber
	#	amount = -10
	#	state = THIS
	#}
#}



mastfarian_fuel_add_effect = { ## 
	add_resource = {
		type = oil
		amount = 10
		state = THIS
	}
}
mastfarian_fuel_remove_effect = { ## 
	add_resource = {
		type = oil
		amount = -10
		state = THIS
	}
}
mastfarian_fuel_2_add_effect = { ## 
	add_resource = {
		type = oil
		amount = 25
		state = THIS
	}
}
mastfarian_fuel_2_remove_effect = { ## 
	add_resource = {
		type = oil
		amount = -25
		state = THIS
	}
}
mastfarian_fuel_3_add_effect = { ## 
	add_resource = {
		type = oil
		amount = 50
		state = THIS
	}
}
mastfarian_fuel_3_remove_effect = { ## 
	add_resource = {
		type = oil
		amount = -50
		state = THIS
	}
}


cloud_city_add_effect = {
	add_resource = {
		type = oil
		amount = 20
		state = THIS
	}
}
cloud_city_remove_effect = {
	add_resource = {
		type = oil
		amount = -20
		state = THIS
	}
}
cloud_city_2_add_effect = {
	add_resource = {
		type = oil
		amount = 30
		state = THIS
	}
}
cloud_city_2_remove_effect = {
	add_resource = {
		type = oil
		amount = -30
		state = THIS
	}
}
cloud_city_3_add_effect = {
	add_resource = {
		type = oil
		amount = 40
		state = THIS
	}
}
cloud_city_3_remove_effect = {
	add_resource = {
		type = oil
		amount = -40
		state = THIS
	}
}

mustafar_works_add_effect = {
	add_resource = {
		type = steel
		amount = 20
		state = THIS
	}
}
mustafar_works_remove_effect = {
	add_resource = {
		type = steel
		amount = -20
		state = THIS
	}
}
mustafar_works_2_add_effect = {
	add_resource = {
		type = steel
		amount = 30
		state = THIS
	}
}
mustafar_works_2_remove_effect = {
	add_resource = {
		type = steel
		amount = -30
		state = THIS
	}
}
mustafar_works_3_add_effect = {
	add_resource = {
		type = steel
		amount = 40
		state = THIS
	}
}
mustafar_works_3_remove_effect = {
	add_resource = {
		type = steel
		amount = -40
		state = THIS
	}
}

kessel_coaxium_mines_add_effect = {
	add_resource = {
		type = oil
		amount = 20
		state = THIS
	}
}
kessel_coaxium_mines_remove_effect = {
	add_resource = {
		type = oil
		amount = -20
		state = THIS
	}
}
kessel_coaxium_mines_2_add_effect = {
	add_resource = {
		type = oil
		amount = 30
		state = THIS
	}
}
kessel_coaxium_mines_2_remove_effect = {
	add_resource = {
		type = oil
		amount = -30
		state = THIS
	}
}
kessel_coaxium_mines_3_add_effect = {
	add_resource = {
		type = oil
		amount = 40
		state = THIS
	}
}
kessel_coaxium_mines_3_remove_effect = {
	add_resource = {
		type = oil
		amount = -40
		state = THIS
	}
}

casino_catonica_add_effect = {
	controller = {
		add_to_variable = { building_income = 0.7}
	}
}
casino_catonica_remove_effect = {
	controller = {
		add_to_variable = { building_income = -0.7}
	}
}
casino_catonica_2_add_effect = {
	controller = {
		add_to_variable = { building_income = 1.4}
	}
}
casino_catonica_2_remove_effect = {
	controller = {
		add_to_variable = { building_income = -1.4}
	}
}
casino_catonica_3_add_effect = {
	controller = {
		add_to_variable = { building_income = 3.0}
	}
}
casino_catonica_3_remove_effect = {
	controller = {
		add_to_variable = { building_income = -3.0}
	}
}

#### TILE BLOCKERS ####
shadowlands_tile_blocker_cost_effect = { ## EMPTY AS ONLY REMOVED BY FOCUS

}
shadowlands_spiders_tile_blocker_cost_effect = { ## EMPTY AS ONLY REMOVED BY FOCUS

}

### EXAMPLE
undercity_slums_tile_blocker_cost_effect = { ## EXAMPLE OF COST BASED TILE BLOCKER
	if = {
		limit = {
			controller = {
				has_political_power > 100 ## Finds controller of states politcal power
			}
			check_variable = {currency_amount^primary_currency > 150} ## ACTUAL TRIGGER TO DECIDE WHAT COST OF THE TILE BLOCKER IS in money
		}
		subtract_from_variable = { currency_amount^primary_currency = 150 } ## REMOVES COST
		add_political_power = -100

		## BELOW IS ALWAYS NEEDED, CAN HAVE TILE BLOCKER IDEAS THAT WILL BE REMOVED BY THIS, ONLY COUNTRY IDEAS NOT STATE
		check_building_1_or_2_removal_effect = yes
	}
}
untamed_jungle_tile_blocker_cost_effect = { ## EXAMPLE OF COST BASED TILE BLOCKER
	if = {
		limit = {
			controller = {
				has_political_power > 100 ## Finds controller of states politcal power
			}
			check_variable = {currency_amount^primary_currency > 150} ## ACTUAL TRIGGER TO DECIDE WHAT COST OF THE TILE BLOCKER IS in money
		}
		subtract_from_variable = { currency_amount^primary_currency = 150 } ## REMOVES COST
		add_political_power = -100

		## BELOW IS ALWAYS NEEDED, CAN HAVE TILE BLOCKER IDEAS THAT WILL BE REMOVED BY THIS, ONLY COUNTRY IDEAS NOT STATE
		check_building_1_or_2_removal_effect = yes
	}
}
dead_land_desert_tile_blocker_cost_effect = { ## EXAMPLE OF COST BASED TILE BLOCKER
	if = {
		limit = {
			controller = {
				has_political_power > 100 ## Finds controller of states politcal power
			}
			check_variable = {currency_amount^primary_currency > 150} ## ACTUAL TRIGGER TO DECIDE WHAT COST OF THE TILE BLOCKER IS in money
		}
		subtract_from_variable = { currency_amount^primary_currency = 150 } ## REMOVES COST
		add_political_power = -100

		## BELOW IS ALWAYS NEEDED, CAN HAVE TILE BLOCKER IDEAS THAT WILL BE REMOVED BY THIS, ONLY COUNTRY IDEAS NOT STATE
		check_building_1_or_2_removal_effect = yes
	}
}
lava_fields_tile_blocker_cost_effect = { ## EXAMPLE OF COST BASED TILE BLOCKER
	if = {
		limit = {
			controller = {
				has_political_power > 100 ## Finds controller of states politcal power
			}
			check_variable = {currency_amount^primary_currency > 150} ## ACTUAL TRIGGER TO DECIDE WHAT COST OF THE TILE BLOCKER IS in money
		}
		subtract_from_variable = { currency_amount^primary_currency = 150 } ## REMOVES COST
		add_political_power = -100

		## BELOW IS ALWAYS NEEDED, CAN HAVE TILE BLOCKER IDEAS THAT WILL BE REMOVED BY THIS, ONLY COUNTRY IDEAS NOT STATE
		check_building_1_or_2_removal_effect = yes
	}
}
rock_slides_tile_blocker_cost_effect = { ## EXAMPLE OF COST BASED TILE BLOCKER
	if = {
		limit = {
			controller = {
				has_political_power > 100 ## Finds controller of states politcal power
			}
			check_variable = {currency_amount^primary_currency > 150} ## ACTUAL TRIGGER TO DECIDE WHAT COST OF THE TILE BLOCKER IS in money
		}
		subtract_from_variable = { currency_amount^primary_currency = 150 } ## REMOVES COST
		add_political_power = -100

		## BELOW IS ALWAYS NEEDED, CAN HAVE TILE BLOCKER IDEAS THAT WILL BE REMOVED BY THIS, ONLY COUNTRY IDEAS NOT STATE
		check_building_1_or_2_removal_effect = yes
	}
}
dangerous_fauna_tile_blocker_cost_effect = { ## EXAMPLE OF COST BASED TILE BLOCKER
	if = {
		limit = {
			controller = {
				has_political_power > 100 ## Finds controller of states politcal power
			}
			check_variable = {currency_amount^primary_currency > 150} ## ACTUAL TRIGGER TO DECIDE WHAT COST OF THE TILE BLOCKER IS in money
		}
		subtract_from_variable = { currency_amount^primary_currency = 150 } ## REMOVES COST
		add_political_power = -100

		## BELOW IS ALWAYS NEEDED, CAN HAVE TILE BLOCKER IDEAS THAT WILL BE REMOVED BY THIS, ONLY COUNTRY IDEAS NOT STATE
		check_building_1_or_2_removal_effect = yes
	}
}
ruined_city_tile_blocker_cost_effect = { ## EXAMPLE OF COST BASED TILE BLOCKER
	if = {
		limit = {
			controller = {
				has_political_power > 100 ## Finds controller of states politcal power
			}
			check_variable = {currency_amount^primary_currency > 150} ## ACTUAL TRIGGER TO DECIDE WHAT COST OF THE TILE BLOCKER IS in money
		}
		subtract_from_variable = { currency_amount^primary_currency = 150 } ## REMOVES COST
		add_political_power = -100

		## BELOW IS ALWAYS NEEDED, CAN HAVE TILE BLOCKER IDEAS THAT WILL BE REMOVED BY THIS, ONLY COUNTRY IDEAS NOT STATE
		check_building_1_or_2_removal_effect = yes
	}
}
inhospitable_area_tile_blocker_cost_effect = {
	
}
snow_area_tile_blocker_cost_effect = { ## EXAMPLE OF COST BASED TILE BLOCKER
	if = {
		limit = {
			controller = {
				has_political_power > 100 ## Finds controller of states politcal power
			}
			check_variable = {currency_amount^primary_currency > 150} ## ACTUAL TRIGGER TO DECIDE WHAT COST OF THE TILE BLOCKER IS in money
		}
		subtract_from_variable = { currency_amount^primary_currency = 150 } ## REMOVES COST
		add_political_power = -100

		## BELOW IS ALWAYS NEEDED, CAN HAVE TILE BLOCKER IDEAS THAT WILL BE REMOVED BY THIS, ONLY COUNTRY IDEAS NOT STATE
		check_building_1_or_2_removal_effect = yes
	}
}
check_building_1_or_2_removal_effect = {
	if = {
		limit = {
			check_variable = {building_1_or_2_holder = 1}
		}
		set_temp_variable = {building_name_passer = building_1}  ### THIS IS WHATS ACTUALLY REMOVING THE BUILDING
		clear_building_1_effects = yes
	}else = {
		set_temp_variable = {building_name_passer = building_2}  ### THIS IS WHATS ACTUALLY REMOVING THE BUILDING
		clear_building_2_effects = yes
	}
}



primitive_farm_add_effect = {
	add_state_modifier = {
		modifier = {
			local_manpower = 0.1
		}
	}
	controller = {
		add_to_variable = { building_income = 0.05}
	}
}

primitive_farm_remove_effect = {
	add_state_modifier = {
		modifier = {
			local_manpower = -0.1
		}
	}
	controller = {
		add_to_variable = { building_income = -0.05}
	}
}

primitive_industry_add_effect = {
	add_building_construction = { type = arms_factory level = 2 instant_build = yes}
}
primitive_industry_remove_effect = {
	add_building_construction = { type = arms_factory level = -2 instant_build = yes}
}


primitive_offices_add_effect = {
	controller = {
		add_to_variable = { building_income = 0.2}
	}
}
primitive_offices_remove_effect = {
	controller = {
		add_to_variable = { building_income = -0.2}
	}
}

primitive_resource_extraction_add_effect = {
	add_resource = {
		type = oil
		amount = 3
		state = THIS
	}
	add_resource = {
		type = aluminium
		amount = 3
		state = THIS
	}
	add_resource = {
		type = chromium
		amount = 3
		state = THIS
	}
	add_resource = {
		type = tungsten
		amount = 3
		state = THIS
	}
	add_resource = {
		type = steel
		amount = 3
		state = THIS
	}
}
primitive_resource_extraction_remove_effect = {
	add_resource = {
		type = oil
		amount = -3
		state = THIS
	}
	add_resource = {
		type = aluminium
		amount = -3
		state = THIS
	}
	add_resource = {
		type = chromium
		amount = -3
		state = THIS
	}
	add_resource = {
		type = tungsten
		amount = -3
		state = THIS
	}
	add_resource = {
		type = steel
		amount = -3
		state = THIS
	}
}
imperial_refinery_remove_effect = {

}


imperial_refinery_positive_add_effect = {
}


clear_left_over_building_event_variables = {
	var:state_located_for_building_changes = {
		clear_variable = potential_building_holder_for_event
		clear_variable = potential_time_left_building_holder_for_event
	}
	clear_variable = potential_cost_holder_for_event
	clear_variable = state_located_for_building_changes

}


the_maw_station_add_effect = {

}
dathomir_badlands_add_effect = {

}
rock_slides_add_effect = {

}
ruined_city_add_effect = {

}
scipio_vault_add_effect = {

}
glassed_surface_add_effect = {

}
ring_of_kafrene_add_effect = {

}
rolling_mountains_add_effect = {

}
kuat_rings_add_effect = {
	
}
dead_land_desert_add_effect = {

}
kuat_rings_add_effect = {
	
}
snow_area_add_effect = {

}
the_wheel_add_effect = {

}
vaders_castle_add_effect = {

}
rolling_mountains_add_effect = {

}
yavin_temple_add_effect = {

}
hand_of_thrawn_add_effect = {
	
}
senate_building_add_effect = {
	
}
undercity_slums_add_effect = {
	
}
palpatine_palace_add_effect = {
	
}
untamed_jungle_add_effect = {
	
}
imperial_refinery_add_effect = {
	
}
inhospitable_area_add_effect = {
	
}
untamed_jungle_add_effect = {
	
}
lava_fields_add_effect = {
	
}
dangerous_fauna_add_effect = {
	
}
jabbas_palace_add_effect = {
	
}
shadowlands_add_effect = {
	
}
shadowlands_spiders_add_effect = {

}
_add_effect = { ## This is really stupid dont question it, also dont remove it or 10000000 errors

}
_remove_effect = { ## This is really stupid dont question it, also dont remove it or 10000000 errors

}



### FOR SAKE OF PEOPLES SANITY DO NOT LOOK FUTHER THIS IS THE MOST COMPLEX SHIT EVER DEVISED


arms_factory_building_construction_speed_variable_setter = {

	set_variable = {arms_factory_1_speed = global.arms_factory_1_global_speed}
	set_variable = {soft_arms_factory_1_speed = global.soft_arms_factory_1_global_speed}
	set_variable = {soft_arms_factory_2_speed = global.soft_arms_factory_2_global_speed}
	set_variable = {tank_factory_1_speed = global.tank_factory_1_global_speed}
	set_variable = {tank_factory_2_speed = global.tank_factory_2_global_speed}
	
	multiply_variable = {arms_factory_1_speed = final_calulation_multiplier}
	multiply_variable = {soft_arms_factory_1_speed = final_calulation_multiplier}
	multiply_variable = {soft_arms_factory_2_speed = final_calulation_multiplier}
	multiply_variable = {tank_factory_1_speed = final_calulation_multiplier}
	multiply_variable = {tank_factory_2_speed = final_calulation_multiplier}

}
shipyard_building_construction_speed_variable_setter = {
	set_variable = {light_shipyard_1_speed = global.light_shipyard_1_global_speed}
	set_variable = {light_shipyard_2_speed = global.light_shipyard_2_global_speed}
	set_variable = {light_shipyard_3_speed = global.light_shipyard_3_global_speed}
	set_variable = {medium_shipyard_1_speed = global.medium_shipyard_1_global_speed}
	set_variable = {medium_shipyard_2_speed = global.medium_shipyard_2_global_speed}
	set_variable = {heavy_shipyard_1_speed = global.heavy_shipyard_1_global_speed}
	
	multiply_variable = {light_shipyard_1_speed = final_calulation_multiplier}
	multiply_variable = {light_shipyard_2_speed = final_calulation_multiplier}
	multiply_variable = {light_shipyard_3_speed = final_calulation_multiplier}
	multiply_variable = {medium_shipyard_1_speed = final_calulation_multiplier}
	multiply_variable = {medium_shipyard_2_speed = final_calulation_multiplier}
	multiply_variable = {heavy_shipyard_1_speed = final_calulation_multiplier}
}
training_building_construction_speed_variable_setter = {
	set_variable = {training_facilities_1_speed = global.training_facilities_1_global_speed}
	set_variable = {special_forces_training_facilities_1_speed = global.special_forces_training_facilities_1_global_speed}
	set_variable = {special_forces_training_facilities_2_speed = global.special_forces_training_facilities_2_global_speed}
	set_variable = {military_bootcamp_1_speed = global.military_bootcamp_1_global_speed}
	set_variable = {military_bootcamp_2_speed = global.military_bootcamp_2_global_speed}
	
	multiply_variable = {training_facilities_1_speed = final_calulation_multiplier}
	multiply_variable = {special_forces_training_facilities_1_speed = final_calulation_multiplier}
	multiply_variable = {special_forces_training_facilities_2_speed = final_calulation_multiplier}
	multiply_variable = {military_bootcamp_1_speed = final_calulation_multiplier}
	multiply_variable = {military_bootcamp_2_speed = final_calulation_multiplier}
}
intelligence_building_construction_speed_variable_setter = {
	set_variable = {intelligence_center_1_speed = global.intelligence_center_1_global_speed}
	set_variable = {sensor_array_1_speed = global.sensor_array_1_global_speed}
	set_variable = {sensor_array_2_speed = global.sensor_array_2_global_speed}
	set_variable = {spy_academy_1_speed = global.spy_academy_1_global_speed}
	set_variable = {spy_academy_2_speed = global.spy_academy_2_global_speed}
	
	multiply_variable = {intelligence_center_1_speed = final_calulation_multiplier}
	multiply_variable = {sensor_array_1_speed = final_calulation_multiplier}
	multiply_variable = {sensor_array_2_speed = final_calulation_multiplier}
	multiply_variable = {spy_academy_1_speed = final_calulation_multiplier}
	multiply_variable = {spy_academy_2_speed = final_calulation_multiplier}
}
research_building_construction_speed_variable_setter = {
	set_variable = {research_center_1_speed = global.research_center_1_global_speed}
	set_variable = {research_center_2_speed = global.research_center_2_global_speed}
	set_variable = {research_center_3_speed = global.research_center_3_global_speed}
	
	multiply_variable = {research_center_1_speed = final_calulation_multiplier}
	multiply_variable = {research_center_2_speed = final_calulation_multiplier}
	multiply_variable = {research_center_3_speed = final_calulation_multiplier}
}
military_academy_building_construction_speed_variable_setter = {
	set_variable = {military_academy_1_speed = global.military_academy_1_global_speed}
	set_variable = {military_academy_2_speed = global.military_academy_2_global_speed}
	set_variable = {military_academy_3_speed = global.military_academy_3_global_speed}
	set_variable = {starfighter_academy_1_speed = global.starfighter_academy_1_global_speed}
	set_variable = {admiralty_academy_1_speed = global.admiralty_academy_1_global_speed}
	set_variable = {naval_academy_1_speed = global.naval_academy_1_global_speed}
	
	multiply_variable = {military_academy_1_speed = final_calulation_multiplier}
	multiply_variable = {military_academy_2_speed = final_calulation_multiplier}
	multiply_variable = {military_academy_3_speed = final_calulation_multiplier}
	multiply_variable = {starfighter_academy_1_speed = final_calulation_multiplier}
	multiply_variable = {admiralty_academy_1_speed = final_calulation_multiplier}
	multiply_variable = {naval_academy_1_speed = final_calulation_multiplier}
}
homestead_building_construction_speed_variable_setter = {
	set_variable = {homestead_1_speed = global.homestead_1_global_speed}
	set_variable = {homestead_2_speed = global.homestead_2_global_speed}
	set_variable = {homestead_3_speed = global.homestead_3_global_speed}
	
	multiply_variable = {homestead_1_speed = final_calulation_multiplier}
	multiply_variable = {homestead_2_speed = final_calulation_multiplier}
	multiply_variable = {homestead_3_speed = final_calulation_multiplier}
}
corporate_office_building_construction_speed_variable_setter = {
	set_variable = {corporate_office_1_speed = global.corporate_office_1_global_speed}
	set_variable = {corporate_office_2_speed = global.corporate_office_2_global_speed}
	set_variable = {corporate_office_3_speed = global.corporate_office_3_global_speed}
	
	multiply_variable = {corporate_office_1_speed = final_calulation_multiplier}
	multiply_variable = {corporate_office_2_speed = final_calulation_multiplier}
	multiply_variable = {corporate_office_3_speed = final_calulation_multiplier}
}
recycle_center_building_construction_speed_variable_setter = {
	set_variable = {recycle_center_1_speed = global.recycle_center_1_global_speed}
	set_variable = {recycle_center_2_speed = global.recycle_center_2_global_speed}
	set_variable = {recycle_center_3_speed = global.recycle_center_3_global_speed}
	
	multiply_variable = {recycle_center_1_speed = final_calulation_multiplier}
	multiply_variable = {recycle_center_2_speed = final_calulation_multiplier}
	multiply_variable = {recycle_center_3_speed = final_calulation_multiplier}
}
spice_market_building_construction_speed_variable_setter = {
	set_variable = {spice_market_1_speed = global.spice_market_1_global_speed}
	set_variable = {spice_market_2_speed = global.spice_market_2_global_speed}
	set_variable = {spice_market_3_speed = global.spice_market_3_global_speed}
	
	multiply_variable = {spice_market_1_speed = final_calulation_multiplier}
	multiply_variable = {spice_market_2_speed = final_calulation_multiplier}
	multiply_variable = {spice_market_3_speed = final_calulation_multiplier}
}
fuel_refinery_building_construction_speed_variable_setter = {
	set_variable = {fuel_refinery_1_speed = global.fuel_refinery_1_global_speed}
	set_variable = {fuel_refinery_2_speed = global.fuel_refinery_2_global_speed}
	set_variable = {fuel_refinery_3_speed = global.fuel_refinery_3_global_speed}
	
	multiply_variable = {fuel_refinery_1_speed = final_calulation_multiplier}
	multiply_variable = {fuel_refinery_2_speed = final_calulation_multiplier}
	multiply_variable = {fuel_refinery_3_speed = final_calulation_multiplier}
}
anti_air_building_construction_speed_variable_setter = {
	set_variable = {anti_air_1_speed = global.anti_air_1_global_speed}
	set_variable = {anti_air_2_speed = global.anti_air_2_global_speed}
	set_variable = {anti_air_3_speed = global.anti_air_3_global_speed}
	
	multiply_variable = {anti_air_1_speed = final_calulation_multiplier}
	multiply_variable = {anti_air_2_speed = final_calulation_multiplier}
	multiply_variable = {anti_air_3_speed = final_calulation_multiplier}
}
starfighter_building_construction_speed_variable_setter = {
	set_variable = {starfighter_factory_1_speed = global.starfighter_factory_1_global_speed}
	set_variable = {starfighter_factory_2_speed = global.starfighter_factory_2_global_speed}
	set_variable = {starfighter_factory_3_speed = global.starfighter_factory_3_global_speed}
	set_variable = {starbomber_factory_1_speed = global.starbomber_factory_1_global_speed}
	set_variable = {starbomber_factory_2_speed = global.starbomber_factory_2_global_speed}
	
	multiply_variable = {starfighter_factory_1_speed = final_calulation_multiplier}
	multiply_variable = {starfighter_factory_2_speed = final_calulation_multiplier}
	multiply_variable = {starfighter_factory_3_speed = final_calulation_multiplier}
	multiply_variable = {starbomber_factory_1_speed = final_calulation_multiplier}
	multiply_variable = {starbomber_factory_2_speed = final_calulation_multiplier}
}
taxation_center_construction_speed_variable_setter = {
	set_variable = {taxation_center_1_speed = global.taxation_center_1_global_speed}
	set_variable = {taxation_center_2_speed = global.taxation_center_2_global_speed}
	set_variable = {taxation_center_3_speed = global.taxation_center_3_global_speed}
	
	multiply_variable = {taxation_center_1_speed = final_calulation_multiplier}
	multiply_variable = {taxation_center_2_speed = final_calulation_multiplier}
	multiply_variable = {taxation_center_3_speed = final_calulation_multiplier}
}
## Cost
arms_factory_building_construction_cost_variable_setter = {

	set_variable = {arms_factory_1_cost = global.arms_factory_1_global_cost}
	set_variable = {soft_arms_factory_1_cost = global.soft_arms_factory_1_global_cost}
	set_variable = {soft_arms_factory_2_cost = global.soft_arms_factory_2_global_cost}
	set_variable = {tank_factory_1_cost = global.tank_factory_1_global_cost}
	set_variable = {tank_factory_2_cost = global.tank_factory_2_global_cost}
	
	multiply_variable = {arms_factory_1_cost = final_calulation_multiplier}
	multiply_variable = {soft_arms_factory_1_cost = final_calulation_multiplier}
	multiply_variable = {soft_arms_factory_2_cost = final_calulation_multiplier}
	multiply_variable = {tank_factory_1_cost = final_calulation_multiplier}
	multiply_variable = {tank_factory_2_cost = final_calulation_multiplier}

}
shipyard_building_construction_cost_variable_setter = {
	set_variable = {light_shipyard_1_cost = global.light_shipyard_1_global_cost}
	set_variable = {light_shipyard_2_cost = global.light_shipyard_2_global_cost}
	set_variable = {light_shipyard_3_cost = global.light_shipyard_3_global_cost}
	set_variable = {medium_shipyard_1_cost = global.medium_shipyard_1_global_cost}
	set_variable = {medium_shipyard_2_cost = global.medium_shipyard_2_global_cost}
	set_variable = {heavy_shipyard_1_cost = global.heavy_shipyard_1_global_cost}
	
	multiply_variable = {arms_factory_1_cost = final_calulation_multiplier}
	multiply_variable = {soft_arms_factory_1_cost = final_calulation_multiplier}
	multiply_variable = {soft_arms_factory_2_cost = final_calulation_multiplier}
	multiply_variable = {tank_factory_1_cost = final_calulation_multiplier}
	multiply_variable = {tank_factory_2_cost = final_calulation_multiplier}
}
training_building_construction_cost_variable_setter = {
	set_variable = {training_facilities_1_cost = global.training_facilities_1_global_cost}
	set_variable = {special_forces_training_facilities_1_cost = global.special_forces_training_facilities_1_global_cost}
	set_variable = {special_forces_training_facilities_2_cost = global.special_forces_training_facilities_2_global_cost}
	set_variable = {military_bootcamp_1_cost = global.military_bootcamp_1_global_cost}
	set_variable = {military_bootcamp_2_cost = global.military_bootcamp_2_global_cost}
	
	multiply_variable = {training_facilities_1_cost = final_calulation_multiplier}
	multiply_variable = {special_forces_training_facilities_1_cost = final_calulation_multiplier}
	multiply_variable = {special_forces_training_facilities_2_cost = final_calulation_multiplier}
	multiply_variable = {military_bootcamp_1_cost = final_calulation_multiplier}
	multiply_variable = {military_bootcamp_2_cost = final_calulation_multiplier}
}
intelligence_building_construction_cost_variable_setter = {
	set_variable = {intelligence_center_1_cost = global.intelligence_center_1_global_cost}
	set_variable = {sensor_array_1_cost = global.sensor_array_1_global_cost}
	set_variable = {sensor_array_2_cost = global.sensor_array_2_global_cost}
	set_variable = {spy_academy_1_cost = global.spy_academy_1_global_cost}
	set_variable = {spy_academy_2_cost = global.spy_academy_2_global_cost}
	
	multiply_variable = {intelligence_center_1_cost = research_center_1_global_cost}
	multiply_variable = {sensor_array_1_cost = final_calulation_multiplier}
	multiply_variable = {sensor_array_2_cost = final_calulation_multiplier}
	multiply_variable = {spy_academy_1_cost = final_calulation_multiplier}
	multiply_variable = {spy_academy_2_cost = final_calulation_multiplier}
}
research_building_construction_cost_variable_setter = {
	set_variable = {research_center_1_cost = global.research_center_1_global_cost}
	set_variable = {research_center_2_cost = global.research_center_2_global_cost}
	set_variable = {research_center_3_cost = global.research_center_3_global_cost}
	
	multiply_variable = {research_center_1_cost = final_calulation_multiplier}
	multiply_variable = {research_center_2_cost = final_calulation_multiplier}
	multiply_variable = {research_center_3_cost = final_calulation_multiplier}
}
military_academy_building_construction_cost_variable_setter = {
	set_variable = {military_academy_1_cost = global.military_academy_1_global_cost}
	set_variable = {military_academy_2_cost = global.military_academy_2_global_cost}
	set_variable = {military_academy_3_cost = global.military_academy_3_global_cost}
	set_variable = {starfighter_academy_1_cost = global.starfighter_academy_1_global_cost}
	set_variable = {admiralty_academy_1_cost = global.admiralty_academy_1_global_cost}
	set_variable = {naval_academy_1_cost = global.naval_academy_1_global_cost}
	
	multiply_variable = {military_academy_1_cost = final_calulation_multiplier}
	multiply_variable = {military_academy_2_cost = final_calulation_multiplier}
	multiply_variable = {military_academy_3_cost = final_calulation_multiplier}
	multiply_variable = {starfighter_academy_1_cost = final_calulation_multiplier}
	multiply_variable = {admiralty_academy_1_cost = final_calulation_multiplier}
	multiply_variable = {naval_academy_1_cost = final_calulation_multiplier}
}
homestead_building_construction_cost_variable_setter = {
	set_variable = {homestead_1_cost = global.homestead_1_global_cost}
	set_variable = {homestead_2_cost = global.homestead_2_global_cost}
	set_variable = {homestead_3_cost = global.homestead_3_global_cost}
	
	multiply_variable = {homestead_1_cost = final_calulation_multiplier}
	multiply_variable = {homestead_2_cost = final_calulation_multiplier}
	multiply_variable = {homestead_3_cost = final_calulation_multiplier}
}
corporate_office_building_construction_cost_variable_setter = {
	set_variable = {corporate_office_1_cost = global.corporate_office_1_global_cost}
	set_variable = {corporate_office_2_cost = global.corporate_office_2_global_cost}
	set_variable = {corporate_office_3_cost = global.corporate_office_3_global_cost}
	
	multiply_variable = {corporate_office_1_cost = final_calulation_multiplier}
	multiply_variable = {corporate_office_2_cost = final_calulation_multiplier}
	multiply_variable = {corporate_office_3_cost = final_calulation_multiplier}
}
recycle_center_building_construction_cost_variable_setter = {
	set_variable = {recycle_center_1_cost = global.recycle_center_1_global_cost}
	set_variable = {recycle_center_2_cost = global.recycle_center_2_global_cost}
	set_variable = {recycle_center_3_cost = global.recycle_center_3_global_cost}
	
	multiply_variable = {recycle_center_1_cost = final_calulation_multiplier}
	multiply_variable = {recycle_center_2_cost = final_calulation_multiplier}
	multiply_variable = {recycle_center_3_cost = final_calulation_multiplier}
}
spice_market_building_construction_cost_variable_setter = {
	set_variable = {spice_market_1_cost = global.spice_market_1_global_cost}
	set_variable = {spice_market_2_cost = global.spice_market_2_global_cost}
	set_variable = {spice_market_3_cost = global.spice_market_3_global_cost}
	
	multiply_variable = {spice_market_1_cost = final_calulation_multiplier}
	multiply_variable = {spice_market_2_cost = final_calulation_multiplier}
	multiply_variable = {spice_market_3_cost = final_calulation_multiplier}
}
fuel_refinery_building_construction_cost_variable_setter = {
	set_variable = {fuel_refinery_1_cost = global.fuel_refinery_1_global_cost}
	set_variable = {fuel_refinery_2_cost = global.fuel_refinery_2_global_cost}
	set_variable = {fuel_refinery_3_cost = global.fuel_refinery_3_global_cost}
	
	multiply_variable = {fuel_refinery_1_cost = final_calulation_multiplier}
	multiply_variable = {fuel_refinery_2_cost = final_calulation_multiplier}
	multiply_variable = {fuel_refinery_3_cost = final_calulation_multiplier}
}
anti_air_building_construction_cost_variable_setter = {
	set_variable = {anti_air_1_cost = global.anti_air_1_global_cost}
	set_variable = {anti_air_2_cost = global.anti_air_2_global_cost}
	set_variable = {anti_air_3_cost = global.anti_air_3_global_cost}
	
	multiply_variable = {anti_air_1_cost = final_calulation_multiplier}
	multiply_variable = {anti_air_2_cost = final_calulation_multiplier}
	multiply_variable = {anti_air_3_cost = final_calulation_multiplier}
}
starfighter_building_construction_cost_variable_setter = {
	set_variable = {starfighter_factory_1_cost = global.starfighter_factory_1_global_cost}
	set_variable = {starfighter_factory_2_cost = global.starfighter_factory_2_global_cost}
	set_variable = {starfighter_factory_3_cost = global.starfighter_factory_3_global_cost}
	set_variable = {starbomber_factory_1_cost = global.starbomber_factory_1_global_cost}
	set_variable = {starbomber_factory_2_cost = global.starbomber_factory_2_global_cost}
	
	multiply_variable = {starfighter_factory_1_cost = final_calulation_multiplier}
	multiply_variable = {starfighter_factory_2_cost = final_calulation_multiplier}
	multiply_variable = {starfighter_factory_3_cost = final_calulation_multiplier}
	multiply_variable = {starbomber_factory_1_cost = final_calulation_multiplier}
	multiply_variable = {starbomber_factory_2_cost = final_calulation_multiplier}
}
taxation_center_construction_cost_variable_setter = {
	set_variable = {taxation_center_1_cost = global.taxation_center_1_global_cost}
	set_variable = {taxation_center_2_cost = global.taxation_center_2_global_cost}
	set_variable = {taxation_center_3_cost = global.taxation_center_3_global_cost}
	
	multiply_variable = {taxation_center_1_cost = final_calulation_multiplier}
	multiply_variable = {taxation_center_2_cost = final_calulation_multiplier}
	multiply_variable = {taxation_center_3_cost = final_calulation_multiplier}
}

construction_speed_calculator = {
	if = {
		limit = {
			OR = {
				check_variable = {
					var = building_modifier_value
					value = 0
					compare = not_equals
				}
				check_variable = {
					var = building_category_value
					value = 0
					compare = not_equals
				}
			}
		}

		set_temp_variable = {final_calulation_multiplier = 1}
		add_to_temp_variable = {final_calulation_multiplier = building_category_value}
		add_to_temp_variable = {final_calulation_multiplier = building_modifier_value}

		meta_effect = {
			text = {
				[BUILDING_MODIFIER]_variable_setter = yes 
			}
			BUILDING_MODIFIER = "[?building_modifier_name.GetTokenKey]"
		}

	}
}

refresh_building_time_and_cost_modifiers = {

	## ARMY CATEGORY
	set_temp_variable = {building_category_value = modifier@army_building_construction_speed}


	set_temp_variable = {building_modifier_value = modifier@arms_factory_building_construction_speed}
	set_temp_variable = {building_modifier_name = token:arms_factory_building_construction_speed}
	construction_speed_calculator = yes

	set_temp_variable = {building_modifier_value = modifier@anti_air_building_construction_speed}
	set_temp_variable = {building_modifier_name = token:anti_air_building_construction_speed}
	construction_speed_calculator = yes

	set_temp_variable = {building_modifier_value = modifier@training_building_construction_speed}
	set_temp_variable = {building_modifier_name = token:training_building_construction_speed}
	construction_speed_calculator = yes

	## NAVAL CATEGORY
	set_temp_variable = {building_category_value = modifier@naval_building_construction_speed}

	set_temp_variable = {building_modifier_value = modifier@shipyard_building_construction_speed}
	set_temp_variable = {building_modifier_name = token:shipyard_building_construction_speed}
	construction_speed_calculator = yes

	set_temp_variable = {building_modifier_value = modifier@starfighter_building_construction_speed}
	set_temp_variable = {building_modifier_name = token:starfighter_building_construction_speed}
	construction_speed_calculator = yes


	##Goverment
	set_temp_variable = {building_category_value = modifier@goverment_building_construction_speed}

	set_temp_variable = {building_modifier_value = modifier@intelligence_building_construction_speed}
	set_temp_variable = {building_modifier_name = token:intelligence_building_construction_speed}
	construction_speed_calculator = yes

	set_temp_variable = {building_modifier_value = modifier@research_building_construction_speed}
	set_temp_variable = {building_modifier_name = token:research_building_construction_speed}
	construction_speed_calculator = yes

	set_temp_variable = {building_modifier_value = modifier@military_academy_building_construction_speed}
	set_temp_variable = {building_modifier_name = token:military_academy_building_construction_speed}
	construction_speed_calculator = yes

	set_temp_variable = {building_modifier_value = modifier@taxation_center_construction_speed}
	set_temp_variable = {building_modifier_name = token:taxation_center_construction_speed}
	construction_speed_calculator = yes
	
	## ECONOMIC
	set_temp_variable = {building_category_value = modifier@economic_building_construction_speed}

	set_temp_variable = {building_modifier_value = modifier@homestead_building_construction_speed}
	set_temp_variable = {building_modifier_name = token:homestead_building_construction_speed}
	construction_speed_calculator = yes

	set_temp_variable = {building_modifier_value = modifier@corporate_office_building_construction_speed}
	set_temp_variable = {building_modifier_name = token:corporate_office_building_construction_speed}
	construction_speed_calculator = yes

	set_temp_variable = {building_modifier_value = modifier@recycle_center_building_construction_speed}
	set_temp_variable = {building_modifier_name = token:recycle_center_building_construction_speed}
	construction_speed_calculator = yes

	set_temp_variable = {building_modifier_value = modifier@spice_market_building_construction_speed}
	set_temp_variable = {building_modifier_name = token:spice_market_building_construction_speed}
	construction_speed_calculator = yes

	set_temp_variable = {building_modifier_value = modifier@fuel_refinery_building_construction_speed}
	set_temp_variable = {building_modifier_name = token:fuel_refinery_building_construction_speed}
	construction_speed_calculator = yes

# COST
## ARMY CATEGORY
	set_temp_variable = {building_category_value = modifier@army_building_construction_cost}


	set_temp_variable = {building_modifier_value = modifier@arms_factory_building_construction_cost}
	set_temp_variable = {building_modifier_name = token:arms_factory_building_construction_cost}
	construction_speed_calculator = yes

	set_temp_variable = {building_modifier_value = modifier@training_building_construction_cost}
	set_temp_variable = {building_modifier_name = token:training_building_construction_cost}
	construction_speed_calculator = yes

	set_temp_variable = {building_modifier_value = modifier@anti_air_building_construction_cost}
	set_temp_variable = {building_modifier_name = token:anti_air_building_construction_cost}
	construction_speed_calculator = yes

	## NAVAL CATEGORY
	set_temp_variable = {building_category_value = modifier@naval_building_construction_cost}

	set_temp_variable = {building_modifier_value = modifier@shipyard_building_construction_cost}
	set_temp_variable = {building_modifier_name = token:shipyard_building_construction_cost}
	construction_speed_calculator = yes

	set_temp_variable = {building_modifier_value = modifier@starfighter_building_construction_cost}
	set_temp_variable = {building_modifier_name = token:starfighter_building_construction_cost}
	construction_speed_calculator = yes


	##Goverment
	set_temp_variable = {building_category_value = modifier@goverment_building_construction_cost}

	set_temp_variable = {building_modifier_value = modifier@intelligence_building_construction_cost}
	set_temp_variable = {building_modifier_name = token:intelligence_building_construction_cost}
	construction_speed_calculator = yes

	set_temp_variable = {building_modifier_value = modifier@research_building_construction_cost}
	set_temp_variable = {building_modifier_name = token:research_building_construction_cost}
	construction_speed_calculator = yes

	set_temp_variable = {building_modifier_value = modifier@military_academy_building_construction_cost}
	set_temp_variable = {building_modifier_name = token:military_academy_building_construction_cost}
	construction_speed_calculator = yes

	set_temp_variable = {building_modifier_value = modifier@taxation_center_construction_cost}
	set_temp_variable = {building_modifier_name = token:taxation_center_construction_cost}
	construction_speed_calculator = yes

	## ECONOMIC
	set_temp_variable = {building_category_value = modifier@economic_building_construction_cost}

	set_temp_variable = {building_modifier_value = modifier@homestead_building_construction_cost}
	set_temp_variable = {building_modifier_name = token:homestead_building_construction_cost}
	construction_speed_calculator = yes

	set_temp_variable = {building_modifier_value = modifier@corporate_office_building_construction_cost}
	set_temp_variable = {building_modifier_name = token:corporate_office_building_construction_cost}
	construction_speed_calculator = yes

	set_temp_variable = {building_modifier_value = modifier@recycle_center_building_construction_cost}
	set_temp_variable = {building_modifier_name = token:recycle_center_building_construction_cost}
	construction_speed_calculator = yes

	set_temp_variable = {building_modifier_value = modifier@spice_market_building_construction_cost}
	set_temp_variable = {building_modifier_name = token:spice_market_building_construction_cost}
	construction_speed_calculator = yes

	set_temp_variable = {building_modifier_value = modifier@fuel_refinery_building_construction_cost}
	set_temp_variable = {building_modifier_name = token:fuel_refinery_building_construction_cost}
	construction_speed_calculator = yes

	set_temp_variable = {building_modifier_value = modifier@trade_complex_construction_speed}
	set_temp_variable = {building_modifier_name = token:trade_complex_construction_speed}
	construction_speed_calculator = yes

	set_temp_variable = {building_modifier_value = modifier@trade_complex_construction_cost}
	set_temp_variable = {building_modifier_name = token:trade_complex_construction_cost}
	construction_speed_calculator = yes
}

test_effect_20 = {
	set_temp_variable = {test_variable_20 = num_battalions_with_type@infantry}
	log = "[?num_battalions_with_type@infantry]"
	log = "[?num_battalions_with_type@bith]"
}
